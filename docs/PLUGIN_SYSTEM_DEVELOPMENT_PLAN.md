# æ’ä»¶ç³»ç»Ÿå¼€å‘æ–¹æ¡ˆ - æœ€ä½³å®è·µ

## ğŸ“‹ ç›®å½•

1. [ç³»ç»Ÿæ¶æ„è®¾è®¡](#ç³»ç»Ÿæ¶æ„è®¾è®¡)
2. [æŠ€æœ¯é€‰å‹ä¸ç†ç”±](#æŠ€æœ¯é€‰å‹ä¸ç†ç”±)
3. [æ’ä»¶å¼€å‘è§„èŒƒ](#æ’ä»¶å¼€å‘è§„èŒƒ)
4. [å¼€å‘ä»»åŠ¡æ¸…å•](#å¼€å‘ä»»åŠ¡æ¸…å•)
5. [API è®¾è®¡](#api-è®¾è®¡)
6. [å®‰å…¨ä¸éš”ç¦»](#å®‰å…¨ä¸éš”ç¦»)
7. [å¼€å‘ä¼˜å…ˆçº§](#å¼€å‘ä¼˜å…ˆçº§)
8. [æµ‹è¯•ç­–ç•¥](#æµ‹è¯•ç­–ç•¥)

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„è®¾è®¡

### æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       æ¸²æŸ“è¿›ç¨‹ (Renderer)                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚          Settings Page - Plugin Manager              â”‚   â”‚
â”‚  â”‚  - æ’ä»¶åˆ—è¡¨å±•ç¤º                                        â”‚   â”‚
â”‚  â”‚  - æ’ä»¶å¯ç”¨/ç¦ç”¨                                       â”‚   â”‚
â”‚  â”‚  - æ’ä»¶é…ç½®ç•Œé¢                                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚        SuperPanel - ItemTypeSelector                  â”‚   â”‚
â”‚  â”‚  - æ˜¾ç¤ºå·²å¯ç”¨çš„æ’ä»¶                                    â”‚   â”‚
â”‚  â”‚  - é€‰æ‹©æ’ä»¶æ‰§è¡Œ                                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚         Plugin Execution Context (å¯é€‰)               â”‚   â”‚
â”‚  â”‚  - æ’ä»¶è‡ªå®šä¹‰çª—å£/é¢æ¿                                 â”‚   â”‚
â”‚  â”‚  - åŠ¨æ€åŠ è½½ Vue ç»„ä»¶                                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†• IPC
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       Preload (Bridge)                        â”‚
â”‚  - æš´éœ²å®‰å…¨çš„ Plugin API                                      â”‚
â”‚  - æƒé™æ§åˆ¶                                                   â”‚
â”‚  - ç±»å‹å®‰å…¨                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†• IPC
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       ä¸»è¿›ç¨‹ (Main)                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚            Plugin Manager (æ ¸å¿ƒ)                      â”‚   â”‚
â”‚  â”‚  - æ’ä»¶æ‰«æä¸åŠ è½½                                      â”‚   â”‚
â”‚  â”‚  - æ’ä»¶ç”Ÿå‘½å‘¨æœŸç®¡ç†                                    â”‚   â”‚
â”‚  â”‚  - æ’ä»¶ä¾èµ–è§£æ                                        â”‚   â”‚
â”‚  â”‚  - æ’ä»¶æ²™ç®±ç¯å¢ƒ                                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚            Plugin Store (é…ç½®å­˜å‚¨)                     â”‚   â”‚
â”‚  â”‚  - æ’ä»¶é…ç½®æŒä¹…åŒ–                                      â”‚   â”‚
â”‚  â”‚  - æ’ä»¶å¯ç”¨çŠ¶æ€                                        â”‚   â”‚
â”‚  â”‚  - æ’ä»¶å…ƒæ•°æ®ç¼“å­˜                                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚            Plugin API Provider                        â”‚   â”‚
â”‚  â”‚  - Settings API (è¯»å–AIé…ç½®ç­‰)                        â”‚   â”‚
â”‚  â”‚  - File System API (å—é™)                             â”‚   â”‚
â”‚  â”‚  - Dialog API                                         â”‚   â”‚
â”‚  â”‚  - Notification API                                   â”‚   â”‚
â”‚  â”‚  - Clipboard API                                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    plugins/ (æ’ä»¶ç›®å½•)                         â”‚
â”‚  â”œâ”€â”€ example-plugin/                                         â”‚
â”‚  â”‚   â”œâ”€â”€ package.json           (æ’ä»¶å…ƒä¿¡æ¯)                 â”‚
â”‚  â”‚   â”œâ”€â”€ manifest.json          (æ’ä»¶æ¸…å•)                   â”‚
â”‚  â”‚   â”œâ”€â”€ index.js               (ä¸»è¿›ç¨‹å…¥å£)                 â”‚
â”‚  â”‚   â”œâ”€â”€ renderer.js            (æ¸²æŸ“è¿›ç¨‹å…¥å£,å¯é€‰)           â”‚
â”‚  â”‚   â”œâ”€â”€ ui/                                                 â”‚
â”‚  â”‚   â”‚   â”œâ”€â”€ settings.vue       (é…ç½®ç•Œé¢ç»„ä»¶)               â”‚
â”‚  â”‚   â”‚   â””â”€â”€ panel.vue          (åŠŸèƒ½é¢æ¿ç»„ä»¶,å¯é€‰)          â”‚
â”‚  â”‚   â”œâ”€â”€ assets/                (é™æ€èµ„æº)                   â”‚
â”‚  â”‚   â””â”€â”€ config.schema.json     (é…ç½®æ¨¡å¼éªŒè¯)               â”‚
â”‚  â””â”€â”€ ...                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ æŠ€æœ¯é€‰å‹ä¸ç†ç”±

### 1. **æ’ä»¶æ ¼å¼**: JavaScript/TypeScript æ¨¡å—

**ç†ç”±**:

- ä¸ç°æœ‰æŠ€æœ¯æ ˆä¸€è‡´
- åŠ¨æ€åŠ è½½ç®€å•
- æ”¯æŒ ES Module å’Œ CommonJS
- TypeScript æä¾›ç±»å‹å®‰å…¨

### 2. **æ’ä»¶åŠ è½½**: ä¸»è¿›ç¨‹åŠ¨æ€ `require/import`

**ç†ç”±**:

- å®‰å…¨æ§åˆ¶ï¼ˆä¸»è¿›ç¨‹æƒé™æ›´é«˜ï¼‰
- å¯ä»¥åœ¨åŠ è½½å‰éªŒè¯æ’ä»¶
- ä¾¿äºç®¡ç†æ’ä»¶ç”Ÿå‘½å‘¨æœŸ

### 3. **é…ç½®å­˜å‚¨**: electron-store

**ç†ç”±**:

- å·²åœ¨é¡¹ç›®ä¸­ä½¿ç”¨
- æŒä¹…åŒ–å¯é 
- æ”¯æŒå¤æ‚æ•°æ®ç»“æ„

### 4. **UI ç»„ä»¶**: Vue 3 åŠ¨æ€ç»„ä»¶

**ç†ç”±**:

- é¡¹ç›®ä½¿ç”¨ Vue 3
- æ”¯æŒåŠ¨æ€å¯¼å…¥å’ŒæŒ‚è½½
- å¯ä»¥ä¸ç°æœ‰ç»„ä»¶å…±äº«çŠ¶æ€

### 5. **é€šä¿¡æœºåˆ¶**: IPC (Main â†” Renderer)

**ç†ç”±**:

- Electron æ ‡å‡†åšæ³•
- ç±»å‹å®‰å…¨ï¼ˆé€šè¿‡ preloadï¼‰
- æƒé™å¯æ§

---

## ğŸ“ æ’ä»¶å¼€å‘è§„èŒƒ

### 1. æ’ä»¶ç›®å½•ç»“æ„

```
plugins/
â””â”€â”€ my-plugin/
    â”œâ”€â”€ package.json              # å¿…éœ€ï¼šnpm åŒ…ä¿¡æ¯
    â”œâ”€â”€ manifest.json             # å¿…éœ€ï¼šæ’ä»¶å…ƒä¿¡æ¯
    â”œâ”€â”€ index.js                  # å¿…éœ€ï¼šä¸»è¿›ç¨‹å…¥å£
    â”œâ”€â”€ renderer.js               # å¯é€‰ï¼šæ¸²æŸ“è¿›ç¨‹å…¥å£
    â”œâ”€â”€ ui/                       # å¯é€‰ï¼šUI ç»„ä»¶
    â”‚   â”œâ”€â”€ settings.vue          # æ’ä»¶é…ç½®ç•Œé¢
    â”‚   â””â”€â”€ panel.vue             # æ’ä»¶åŠŸèƒ½é¢æ¿
    â”œâ”€â”€ assets/                   # å¯é€‰ï¼šé™æ€èµ„æº
    â”‚   â”œâ”€â”€ icon.png
    â”‚   â””â”€â”€ styles.css
    â”œâ”€â”€ config.schema.json        # å¯é€‰ï¼šé…ç½®éªŒè¯æ¨¡å¼
    â””â”€â”€ README.md                 # å¯é€‰ï¼šæ’ä»¶è¯´æ˜
```

### 2. manifest.json è§„èŒƒ

```json
{
  "id": "my-plugin", // å¿…éœ€ï¼šå”¯ä¸€æ ‡è¯†ç¬¦ï¼ˆkebab-caseï¼‰
  "name": "æˆ‘çš„æ’ä»¶", // å¿…éœ€ï¼šæ˜¾ç¤ºåç§°
  "version": "1.0.0", // å¿…éœ€ï¼šè¯­ä¹‰åŒ–ç‰ˆæœ¬
  "description": "è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹æ’ä»¶", // å¿…éœ€ï¼šæ’ä»¶æè¿°
  "author": "ä½œè€…å", // å¯é€‰ï¼šä½œè€…
  "icon": "assets/icon.png", // å¯é€‰ï¼šæ’ä»¶å›¾æ ‡ï¼ˆç›¸å¯¹è·¯å¾„ï¼‰
  "homepage": "https://...", // å¯é€‰ï¼šæ’ä»¶ä¸»é¡µ

  "fingertips": {
    "minVersion": "1.0.0", // å¿…éœ€ï¼šæœ€å°æ”¯æŒç‰ˆæœ¬
    "maxVersion": "2.0.0" // å¯é€‰ï¼šæœ€å¤§æ”¯æŒç‰ˆæœ¬
  },

  "main": "index.js", // å¿…éœ€ï¼šä¸»è¿›ç¨‹å…¥å£
  "renderer": "renderer.js", // å¯é€‰ï¼šæ¸²æŸ“è¿›ç¨‹å…¥å£

  "permissions": [
    // å¿…éœ€ï¼šæƒé™å£°æ˜
    "settings:read", // è¯»å–è®¾ç½®
    "settings:write", // å†™å…¥è®¾ç½®
    "ai:config", // è®¿é—® AI é…ç½®
    "fs:read", // æ–‡ä»¶ç³»ç»Ÿè¯»å–ï¼ˆå—é™ï¼‰
    "fs:write", // æ–‡ä»¶ç³»ç»Ÿå†™å…¥ï¼ˆå—é™ï¼‰
    "dialog", // å¯¹è¯æ¡†
    "notification", // é€šçŸ¥
    "clipboard" // å‰ªè´´æ¿
  ],

  "ui": {
    "hasSettings": true, // æ˜¯å¦æœ‰é…ç½®ç•Œé¢
    "hasPanel": false, // æ˜¯å¦æœ‰åŠŸèƒ½é¢æ¿
    "settingsComponent": "ui/settings.vue", // é…ç½®ç»„ä»¶è·¯å¾„
    "panelComponent": "ui/panel.vue" // é¢æ¿ç»„ä»¶è·¯å¾„
  },

  "config": {
    "schema": "config.schema.json", // é…ç½®éªŒè¯æ¨¡å¼
    "defaults": {
      // é»˜è®¤é…ç½®
      "option1": "value1",
      "option2": 42
    }
  },

  "lifecycle": {
    "onLoad": true, // æ˜¯å¦åœ¨åº”ç”¨å¯åŠ¨æ—¶åŠ è½½
    "onActivate": false // æ˜¯å¦åœ¨ç”¨æˆ·æ¿€æ´»æ—¶åŠ è½½
  }
}
```

### 3. ä¸»è¿›ç¨‹å…¥å£ (index.js)

```javascript
/**
 * æ’ä»¶ä¸»è¿›ç¨‹å…¥å£
 * @param {PluginContext} context - æ’ä»¶ä¸Šä¸‹æ–‡
 */
module.exports = {
  /**
   * æ’ä»¶æ¿€æ´»æ—¶è°ƒç”¨
   * @param {PluginContext} context
   */
  activate(context) {
    console.log('Plugin activated:', context.manifest.name)

    // æ³¨å†Œ IPC å¤„ç†å™¨
    context.ipc.handle('my-plugin:action', async (event, data) => {
      // å¤„ç†æ¥è‡ªæ¸²æŸ“è¿›ç¨‹çš„è¯·æ±‚
      return { success: true, data: 'result' }
    })

    // è®¿é—® API
    const aiConfig = await context.api.settings.getAIConfig()
    console.log('AI Config:', aiConfig)

    // è¯»å–æ’ä»¶é…ç½®
    const config = await context.config.get('option1')

    // ç›‘å¬é…ç½®å˜åŒ–
    context.config.onChange('option1', (newValue, oldValue) => {
      console.log('Config changed:', oldValue, '->', newValue)
    })

    // è¿”å›æ¸…ç†å‡½æ•°
    return () => {
      console.log('Plugin deactivated')
    }
  },

  /**
   * æ’ä»¶åœç”¨æ—¶è°ƒç”¨
   */
  deactivate() {
    // æ¸…ç†èµ„æº
    console.log('Plugin deactivated')
  },

  /**
   * æ‰§è¡Œæ’ä»¶åŠŸèƒ½
   * @param {Object} params - æ‰§è¡Œå‚æ•°
   */
  async execute(params) {
    // å½“ç”¨æˆ·ä» SuperPanel é€‰æ‹©æ­¤æ’ä»¶æ—¶è°ƒç”¨
    console.log('Plugin executed with params:', params)

    // æ‰§è¡Œå…·ä½“åŠŸèƒ½
    const result = await doSomething(params)

    return {
      success: true,
      data: result
    }
  }
}
```

### 4. æ¸²æŸ“è¿›ç¨‹å…¥å£ (renderer.jsï¼Œå¯é€‰)

```javascript
/**
 * æ’ä»¶æ¸²æŸ“è¿›ç¨‹å…¥å£
 * @param {RendererContext} context
 */
module.exports = {
  /**
   * æ¸²æŸ“è¿›ç¨‹ä¸­æ¿€æ´»æ’ä»¶
   */
  activate(context) {
    console.log('Plugin renderer activated')

    // è°ƒç”¨ä¸»è¿›ç¨‹ API
    context.ipc.invoke('my-plugin:action', { foo: 'bar' }).then((result) => console.log(result))

    // è®¿é—®æ¸²æŸ“è¿›ç¨‹ API
    context.api.notification.show({
      title: 'æ’ä»¶å·²åŠ è½½',
      message: 'æˆ‘çš„æ’ä»¶å·²æˆåŠŸåŠ è½½'
    })

    return () => {
      console.log('Plugin renderer deactivated')
    }
  }
}
```

### 5. é…ç½®ç•Œé¢ç»„ä»¶ (ui/settings.vue)

```vue
<template>
  <div class="plugin-settings">
    <h3>{{ manifest.name }} è®¾ç½®</h3>

    <div class="setting-item">
      <label>é€‰é¡¹ 1</label>
      <input v-model="config.option1" @change="saveConfig" />
    </div>

    <div class="setting-item">
      <label>é€‰é¡¹ 2</label>
      <input type="number" v-model.number="config.option2" @change="saveConfig" />
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref, onMounted } from 'vue'

// æ’ä»¶ API é€šè¿‡ inject æä¾›
const manifest = inject('pluginManifest')
const config = ref({})

onMounted(async () => {
  // åŠ è½½é…ç½®
  config.value = await window.api.plugin.getConfig(manifest.id)
})

async function saveConfig() {
  await window.api.plugin.setConfig(manifest.id, config.value)
}
</script>
```

### 6. é…ç½®éªŒè¯æ¨¡å¼ (config.schema.json)

```json
{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "properties": {
    "option1": {
      "type": "string",
      "description": "é€‰é¡¹ 1 çš„æè¿°",
      "default": "value1"
    },
    "option2": {
      "type": "number",
      "description": "é€‰é¡¹ 2 çš„æè¿°",
      "minimum": 0,
      "maximum": 100,
      "default": 42
    }
  },
  "required": ["option1"]
}
```

---

## ğŸ“ å¼€å‘ä»»åŠ¡æ¸…å•

### é˜¶æ®µ 1: åŸºç¡€æ¶æ„ (æ ¸å¿ƒåŠŸèƒ½)

#### ä»»åŠ¡ 1.1: ç±»å‹å®šä¹‰ä¸æ¥å£è®¾è®¡

- **æ–‡ä»¶**: `src/main/types/plugin.ts`
- **å†…å®¹**:
  - å®šä¹‰ `PluginManifest` æ¥å£
  - å®šä¹‰ `PluginContext` æ¥å£
  - å®šä¹‰ `PluginAPI` æ¥å£
  - å®šä¹‰ `PluginPermission` æšä¸¾
  - å®šä¹‰ `PluginLifecycle` æ¥å£
  - å®šä¹‰ `PluginConfig` æ¥å£
- **éªŒæ”¶æ ‡å‡†**: æ‰€æœ‰ç±»å‹å®šä¹‰å®Œæ•´ï¼Œæ—  TypeScript é”™è¯¯

#### ä»»åŠ¡ 1.2: æ’ä»¶é…ç½®å­˜å‚¨

- **æ–‡ä»¶**: `src/main/modules/pluginStore.ts`
- **åŠŸèƒ½**:
  - ä½¿ç”¨ electron-store å­˜å‚¨æ’ä»¶é…ç½®
  - æ’ä»¶å¯ç”¨/ç¦ç”¨çŠ¶æ€
  - æ’ä»¶ç”¨æˆ·é…ç½®
  - æ’ä»¶å…ƒæ•°æ®ç¼“å­˜
- **API**:
  - `getPluginConfig(pluginId: string): Promise<any>`
  - `setPluginConfig(pluginId: string, config: any): Promise<void>`
  - `isPluginEnabled(pluginId: string): Promise<boolean>`
  - `setPluginEnabled(pluginId: string, enabled: boolean): Promise<void>`
  - `getEnabledPlugins(): Promise<string[]>`
- **éªŒæ”¶æ ‡å‡†**: æ‰€æœ‰å­˜å‚¨æ“ä½œæ­£å¸¸ï¼Œæ”¯æŒé…ç½®çš„å¢åˆ æ”¹æŸ¥

#### ä»»åŠ¡ 1.3: æ’ä»¶åŠ è½½å™¨

- **æ–‡ä»¶**: `src/main/modules/pluginLoader.ts`
- **åŠŸèƒ½**:
  - æ‰«æ `plugins/` ç›®å½•
  - è§£æ `manifest.json`
  - éªŒè¯æ’ä»¶æ ¼å¼
  - éªŒè¯ç‰ˆæœ¬å…¼å®¹æ€§
  - åŠ¨æ€åŠ è½½æ’ä»¶æ¨¡å—
  - é”™è¯¯å¤„ç†ä¸æ—¥å¿—
- **API**:
  - `scanPlugins(): Promise<PluginManifest[]>`
  - `validatePlugin(manifest: PluginManifest): boolean`
  - `loadPlugin(pluginId: string): Promise<Plugin>`
  - `unloadPlugin(pluginId: string): Promise<void>`
- **éªŒæ”¶æ ‡å‡†**:
  - èƒ½æ­£ç¡®æ‰«æå¹¶åŠ è½½ç¬¦åˆè§„èŒƒçš„æ’ä»¶
  - èƒ½è¯†åˆ«å¹¶æ‹’ç»ä¸ç¬¦åˆè§„èŒƒçš„æ’ä»¶
  - æœ‰å®Œå–„çš„é”™è¯¯æç¤º

#### ä»»åŠ¡ 1.4: æ’ä»¶ç®¡ç†å™¨

- **æ–‡ä»¶**: `src/main/modules/pluginManager.ts`
- **åŠŸèƒ½**:
  - æ’ä»¶ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼ˆactivate/deactivateï¼‰
  - æ’ä»¶ä¾èµ–è§£æ
  - æƒé™éªŒè¯
  - API æä¾›
  - äº‹ä»¶ç³»ç»Ÿ
- **API**:
  - `initialize(): Promise<void>`
  - `getAllPlugins(): PluginManifest[]`
  - `getEnabledPlugins(): Plugin[]`
  - `activatePlugin(pluginId: string): Promise<void>`
  - `deactivatePlugin(pluginId: string): Promise<void>`
  - `executePlugin(pluginId: string, params: any): Promise<any>`
  - `reloadPlugin(pluginId: string): Promise<void>`
- **éªŒæ”¶æ ‡å‡†**: æ’ä»¶ç”Ÿå‘½å‘¨æœŸç®¡ç†æ­£å¸¸ï¼Œæƒé™æ§åˆ¶æœ‰æ•ˆ

#### ä»»åŠ¡ 1.5: æ’ä»¶ API æä¾›è€…

- **æ–‡ä»¶**: `src/main/modules/pluginAPI.ts`
- **åŠŸèƒ½**: ä¸ºæ’ä»¶æä¾›å—é™çš„ API è®¿é—®
- **æä¾›çš„ API**:
  - **Settings API**:
    - `getAIConfig()`: è·å– AI é…ç½®
    - `getSettings()`: è·å–åº”ç”¨è®¾ç½®
    - `getSetting(key)`: è·å–å•ä¸ªè®¾ç½®
  - **Dialog API**:
    - `showOpenDialog(options)`: æ‰“å¼€æ–‡ä»¶é€‰æ‹©å¯¹è¯æ¡†
    - `showSaveDialog(options)`: ä¿å­˜æ–‡ä»¶å¯¹è¯æ¡†
    - `showMessageBox(options)`: æ¶ˆæ¯æ¡†
  - **Notification API**:
    - `show(options)`: æ˜¾ç¤ºé€šçŸ¥
  - **Clipboard API**:
    - `readText()`: è¯»å–å‰ªè´´æ¿æ–‡æœ¬
    - `writeText(text)`: å†™å…¥å‰ªè´´æ¿æ–‡æœ¬
  - **File System API** (å—é™):
    - `readFile(path, options)`: è¯»å–æ–‡ä»¶ï¼ˆä»…é™æ’ä»¶ç›®å½•å’Œç”¨æˆ·é€‰æ‹©çš„æ–‡ä»¶ï¼‰
    - `writeFile(path, data, options)`: å†™å…¥æ–‡ä»¶
    - `exists(path)`: æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
  - **Config API**:
    - `get(key)`: è·å–æ’ä»¶é…ç½®
    - `set(key, value)`: è®¾ç½®æ’ä»¶é…ç½®
    - `onChange(key, callback)`: ç›‘å¬é…ç½®å˜åŒ–
- **éªŒæ”¶æ ‡å‡†**:
  - æ‰€æœ‰ API åŠŸèƒ½æ­£å¸¸
  - æƒé™æ§åˆ¶æœ‰æ•ˆï¼ˆæœªæˆæƒæ“ä½œè¢«æ‹¦æˆªï¼‰
  - æ–‡ä»¶ç³»ç»Ÿè®¿é—®å—é™äºå®‰å…¨è·¯å¾„

### é˜¶æ®µ 2: IPC é€šä¿¡ä¸ Preload æ¡¥æ¥

#### ä»»åŠ¡ 2.1: IPC å¤„ç†å™¨

- **æ–‡ä»¶**: `src/main/modules/pluginHandlers.ts`
- **åŠŸèƒ½**:
  - æ³¨å†Œæ‰€æœ‰æ’ä»¶ç›¸å…³çš„ IPC é€šé“
  - å¤„ç†æ¸²æŸ“è¿›ç¨‹çš„æ’ä»¶è¯·æ±‚
- **IPC é€šé“**:
  - `plugin:get-all`: è·å–æ‰€æœ‰æ’ä»¶
  - `plugin:get-enabled`: è·å–å·²å¯ç”¨æ’ä»¶
  - `plugin:toggle-enabled`: åˆ‡æ¢æ’ä»¶å¯ç”¨çŠ¶æ€
  - `plugin:get-config`: è·å–æ’ä»¶é…ç½®
  - `plugin:set-config`: è®¾ç½®æ’ä»¶é…ç½®
  - `plugin:execute`: æ‰§è¡Œæ’ä»¶
  - `plugin:reload`: é‡æ–°åŠ è½½æ’ä»¶
- **éªŒæ”¶æ ‡å‡†**: æ‰€æœ‰ IPC é€šé“æ­£å¸¸å·¥ä½œï¼Œé”™è¯¯å¤„ç†å®Œå–„

#### ä»»åŠ¡ 2.2: Preload æ¡¥æ¥

- **æ–‡ä»¶**: `src/preload/index.ts` (æ‰©å±•)
- **åŠŸèƒ½**:
  - åœ¨ `window.api` ä¸­æ·»åŠ  `plugin` å‘½åç©ºé—´
  - æä¾›ç±»å‹å®‰å…¨çš„æ’ä»¶ API
- **API**:
  ```typescript
  window.api.plugin = {
    getAll: () => Promise<PluginManifest[]>
    getEnabled: () => Promise<PluginManifest[]>
    toggleEnabled: (pluginId: string, enabled: boolean) => Promise<void>
    getConfig: (pluginId: string) => Promise<any>
    setConfig: (pluginId: string, config: any) => Promise<void>
    execute: (pluginId: string, params: any) => Promise<any>
    reload: (pluginId: string) => Promise<void>
  }
  ```
- **éªŒæ”¶æ ‡å‡†**: API åœ¨æ¸²æŸ“è¿›ç¨‹ä¸­å¯ç”¨ï¼Œç±»å‹æç¤ºæ­£ç¡®

#### ä»»åŠ¡ 2.3: ç±»å‹å£°æ˜

- **æ–‡ä»¶**: `src/preload/index.d.ts` (æ‰©å±•)
- **å†…å®¹**: æ·»åŠ æ’ä»¶ç›¸å…³çš„ç±»å‹å£°æ˜
- **éªŒæ”¶æ ‡å‡†**: TypeScript ç±»å‹æ£€æŸ¥é€šè¿‡ï¼ŒIDE è‡ªåŠ¨å®Œæˆæ­£å¸¸

### é˜¶æ®µ 3: æ¸²æŸ“è¿›ç¨‹é›†æˆ

#### ä»»åŠ¡ 3.1: æ’ä»¶ Store

- **æ–‡ä»¶**: `src/renderer/src/stores/plugin.ts`
- **åŠŸèƒ½**:
  - ç®¡ç†æ’ä»¶åˆ—è¡¨çŠ¶æ€
  - ç®¡ç†æ’ä»¶é…ç½®çŠ¶æ€
  - æä¾›æ’ä»¶æ“ä½œæ–¹æ³•
- **State**:
  - `plugins`: æ‰€æœ‰æ’ä»¶åˆ—è¡¨
  - `enabledPlugins`: å·²å¯ç”¨æ’ä»¶åˆ—è¡¨
  - `currentPluginConfig`: å½“å‰ç¼–è¾‘çš„æ’ä»¶é…ç½®
- **Actions**:
  - `loadPlugins()`: åŠ è½½æ’ä»¶åˆ—è¡¨
  - `loadEnabledPlugins()`: åŠ è½½å·²å¯ç”¨æ’ä»¶
  - `togglePlugin(pluginId, enabled)`: åˆ‡æ¢æ’ä»¶çŠ¶æ€
  - `loadPluginConfig(pluginId)`: åŠ è½½æ’ä»¶é…ç½®
  - `savePluginConfig(pluginId, config)`: ä¿å­˜æ’ä»¶é…ç½®
  - `executePlugin(pluginId, params)`: æ‰§è¡Œæ’ä»¶
- **éªŒæ”¶æ ‡å‡†**: Store çŠ¶æ€ç®¡ç†æ­£å¸¸ï¼Œä¸ä¸»è¿›ç¨‹åŒæ­¥æ­£ç¡®

#### ä»»åŠ¡ 3.2: æ’ä»¶ç®¡ç†é¡µé¢ç»„ä»¶

- **æ–‡ä»¶**: `src/renderer/src/components/settings/PluginManager.vue`
- **åŠŸèƒ½**:
  - æ˜¾ç¤ºæ‰€æœ‰å·²å®‰è£…æ’ä»¶åˆ—è¡¨
  - æ’ä»¶ä¿¡æ¯å±•ç¤ºï¼ˆåç§°ã€ç‰ˆæœ¬ã€æè¿°ã€ä½œè€…ï¼‰
  - æ’ä»¶å¯ç”¨/ç¦ç”¨å¼€å…³
  - æ’ä»¶é…ç½®æŒ‰é’®
  - æ’ä»¶é‡æ–°åŠ è½½æŒ‰é’®
- **UI è®¾è®¡**:
  - å¡ç‰‡å¼å¸ƒå±€
  - æ’ä»¶å›¾æ ‡æ˜¾ç¤º
  - å¯ç”¨çŠ¶æ€æŒ‡ç¤ºå™¨
  - é…ç½®æŒ‰é’®ï¼ˆå¦‚æœæ’ä»¶æœ‰é…ç½®ç•Œé¢ï¼‰
- **éªŒæ”¶æ ‡å‡†**: UI ç¾è§‚ï¼Œæ“ä½œæµç•…ï¼ŒçŠ¶æ€å®æ—¶æ›´æ–°

#### ä»»åŠ¡ 3.3: æ’ä»¶é…ç½®å¯¹è¯æ¡†

- **æ–‡ä»¶**: `src/renderer/src/components/settings/plugin/PluginConfigDialog.vue`
- **åŠŸèƒ½**:
  - åŠ¨æ€åŠ è½½æ’ä»¶çš„é…ç½®ç»„ä»¶
  - æä¾›æ’ä»¶é…ç½®çš„ä¸Šä¸‹æ–‡ï¼ˆé€šè¿‡ provide/injectï¼‰
  - ä¿å­˜é…ç½®
  - å–æ¶ˆé…ç½®
- **éªŒæ”¶æ ‡å‡†**: èƒ½æ­£ç¡®åŠ è½½å’Œæ˜¾ç¤ºæ’ä»¶é…ç½®ç»„ä»¶ï¼Œé…ç½®ä¿å­˜æ­£å¸¸

#### ä»»åŠ¡ 3.4: æ’ä»¶åŠ¨æ€ç»„ä»¶åŠ è½½å™¨

- **æ–‡ä»¶**: `src/renderer/src/composables/usePluginComponent.ts`
- **åŠŸèƒ½**:
  - åŠ¨æ€åŠ è½½æ’ä»¶ Vue ç»„ä»¶
  - ç»„ä»¶ç¼“å­˜
  - é”™è¯¯å¤„ç†
- **API**:
  ```typescript
  const { component, loading, error } = usePluginComponent(pluginId, componentType)
  ```
- **éªŒæ”¶æ ‡å‡†**: ç»„ä»¶èƒ½æ­£ç¡®åŠ è½½å’Œå¸è½½ï¼Œé”™è¯¯å¤„ç†å®Œå–„

#### ä»»åŠ¡ 3.5: Settings è·¯ç”±é›†æˆ

- **æ–‡ä»¶**: `src/renderer/src/settings.ts` (æ‰©å±•)
- **åŠŸèƒ½**: æ·»åŠ æ’ä»¶ç®¡ç†è·¯ç”±
- **ä¿®æ”¹**:
  ```typescript
  {
    path: '/plugins',
    name: 'plugins',
    component: PluginManager
  }
  ```
- **éªŒæ”¶æ ‡å‡†**: è·¯ç”±å¯¼èˆªæ­£å¸¸

#### ä»»åŠ¡ 3.6: Settings èœå•é›†æˆ

- **æ–‡ä»¶**: `src/renderer/src/Settings.vue` (æ‰©å±•)
- **åŠŸèƒ½**: åœ¨ä¾§è¾¹æ æ·»åŠ "æ’ä»¶"èœå•é¡¹
- **ä¿®æ”¹**: åœ¨ `menuItems` æ•°ç»„ä¸­æ·»åŠ ï¼š
  ```typescript
  {
    path: '/plugins',
    label: 'æ’ä»¶',
    icon: 'mdi:puzzle'
  }
  ```
- **éªŒæ”¶æ ‡å‡†**: èœå•é¡¹æ­£ç¡®æ˜¾ç¤ºï¼Œç‚¹å‡»å¯å¯¼èˆª

### é˜¶æ®µ 4: SuperPanel é›†æˆ

#### ä»»åŠ¡ 4.1: ItemTypeSelector é›†æˆ

- **æ–‡ä»¶**: `src/renderer/src/components/super-panel/ItemTypeSelector.vue` (ä¿®æ”¹)
- **åŠŸèƒ½**: å¯ç”¨æ’ä»¶é€‰é¡¹ï¼Œç‚¹å‡»åæ˜¾ç¤ºå·²å¯ç”¨æ’ä»¶åˆ—è¡¨
- **ä¿®æ”¹**: å°† `plugin` ç±»å‹çš„ `disabled` æ”¹ä¸º `false`
- **éªŒæ”¶æ ‡å‡†**: æ’ä»¶é€‰é¡¹å¯ç‚¹å‡»

#### ä»»åŠ¡ 4.2: æ’ä»¶é€‰æ‹©å™¨ç»„ä»¶

- **æ–‡ä»¶**: `src/renderer/src/components/super-panel/PluginSelector.vue`
- **åŠŸèƒ½**:
  - æ˜¾ç¤ºæ‰€æœ‰å·²å¯ç”¨çš„æ’ä»¶
  - æ’ä»¶æœç´¢è¿‡æ»¤
  - é€‰æ‹©æ’ä»¶åè§¦å‘ `select` äº‹ä»¶
- **UI è®¾è®¡**: ç±»ä¼¼äº AI å¿«æ·æŒ‡ä»¤é€‰æ‹©å™¨
- **éªŒæ”¶æ ‡å‡†**: èƒ½æ­£ç¡®æ˜¾ç¤ºå’Œé€‰æ‹©æ’ä»¶

#### ä»»åŠ¡ 4.3: æ’ä»¶æ‰§è¡Œæµç¨‹

- **æ–‡ä»¶**: `src/renderer/src/components/super-panel/AddPluginView.vue`
- **åŠŸèƒ½**:
  - æ˜¾ç¤ºæ’ä»¶é€‰æ‹©å™¨
  - æ‰§è¡Œé€‰ä¸­çš„æ’ä»¶
  - æ˜¾ç¤ºæ’ä»¶æ‰§è¡Œç»“æœ
  - å¦‚æœæ’ä»¶æœ‰è‡ªå®šä¹‰é¢æ¿ï¼ŒåŠ è½½å¹¶æ˜¾ç¤º
- **éªŒæ”¶æ ‡å‡†**: æ’ä»¶æ‰§è¡Œæµç¨‹å®Œæ•´ï¼Œç”¨æˆ·ä½“éªŒæµç•…

#### ä»»åŠ¡ 4.4: LauncherItem ç±»å‹æ‰©å±•

- **æ–‡ä»¶**: `src/renderer/src/types/launcher.ts` (ç¡®è®¤)
- **åŠŸèƒ½**: ç¡®ä¿ `plugin` ç±»å‹å·²å®šä¹‰
- **æ‰©å±•**: ä¸º `LauncherItem` æ·»åŠ  `pluginId` å­—æ®µï¼ˆå¯é€‰ï¼Œä»…å½“ type ä¸º 'plugin' æ—¶ï¼‰
- **éªŒæ”¶æ ‡å‡†**: ç±»å‹å®šä¹‰å®Œæ•´ï¼Œæ”¯æŒæ’ä»¶é¡¹å­˜å‚¨

### é˜¶æ®µ 5: æ’ä»¶æ‰§è¡Œçª—å£ï¼ˆå¯é€‰ï¼‰

#### ä»»åŠ¡ 5.1: æ’ä»¶æ‰§è¡Œçª—å£

- **æ–‡ä»¶**: `src/main/modules/pluginWindow.ts`
- **åŠŸèƒ½**:
  - åˆ›å»ºç‹¬ç«‹çš„æ’ä»¶æ‰§è¡Œçª—å£
  - çª—å£ç”Ÿå‘½å‘¨æœŸç®¡ç†
  - æ’ä»¶ä¸Šä¸‹æ–‡æ³¨å…¥
- **API**:
  - `createPluginWindow(pluginId: string, options: any): BrowserWindow`
  - `showPluginWindow(pluginId: string): void`
  - `closePluginWindow(pluginId: string): void`
- **éªŒæ”¶æ ‡å‡†**: æ’ä»¶çª—å£æ­£å¸¸åˆ›å»ºå’Œé”€æ¯

#### ä»»åŠ¡ 5.2: æ’ä»¶çª—å£ HTML æ¨¡æ¿

- **æ–‡ä»¶**: `src/renderer/plugin-window.html`
- **åŠŸèƒ½**: æ’ä»¶æ‰§è¡Œçª—å£çš„ HTML å…¥å£
- **éªŒæ”¶æ ‡å‡†**: çª—å£æ­£ç¡®åŠ è½½å’Œæ¸²æŸ“

### é˜¶æ®µ 6: ç¤ºä¾‹æ’ä»¶ä¸æ–‡æ¡£

#### ä»»åŠ¡ 6.1: ç¤ºä¾‹æ’ä»¶ 1 - Hello World

- **ç›®å½•**: `plugins/hello-world/`
- **åŠŸèƒ½**: æœ€ç®€å•çš„æ’ä»¶ï¼Œæ˜¾ç¤ºé€šçŸ¥
- **ç›®çš„**: æ¼”ç¤ºåŸºæœ¬æ’ä»¶ç»“æ„
- **éªŒæ”¶æ ‡å‡†**: èƒ½æˆåŠŸåŠ è½½å’Œæ‰§è¡Œ

#### ä»»åŠ¡ 6.2: ç¤ºä¾‹æ’ä»¶ 2 - AI é…ç½®æŸ¥çœ‹å™¨

- **ç›®å½•**: `plugins/ai-config-viewer/`
- **åŠŸèƒ½**: è¯»å–å¹¶å±•ç¤º AI é…ç½®ï¼Œæœ‰é…ç½®ç•Œé¢
- **ç›®çš„**: æ¼”ç¤º API ä½¿ç”¨å’Œé…ç½®ç®¡ç†
- **éªŒæ”¶æ ‡å‡†**: èƒ½è¯»å– AI é…ç½®ï¼Œé…ç½®ç•Œé¢æ­£å¸¸

#### ä»»åŠ¡ 6.3: ç¤ºä¾‹æ’ä»¶ 3 - è‡ªå®šä¹‰é¢æ¿

- **ç›®å½•**: `plugins/custom-panel/`
- **åŠŸèƒ½**: æœ‰è‡ªå®šä¹‰ Vue é¢æ¿çš„æ’ä»¶
- **ç›®çš„**: æ¼”ç¤º UI æ‰©å±•èƒ½åŠ›
- **éªŒæ”¶æ ‡å‡†**: è‡ªå®šä¹‰é¢æ¿æ­£ç¡®åŠ è½½å’Œæ˜¾ç¤º

#### ä»»åŠ¡ 6.4: æ’ä»¶å¼€å‘æ–‡æ¡£

- **æ–‡ä»¶**: `docs/PLUGIN_DEVELOPMENT_GUIDE.md`
- **å†…å®¹**:
  - æ’ä»¶å¼€å‘å¿«é€Ÿå…¥é—¨
  - API å‚è€ƒæ–‡æ¡£
  - æœ€ä½³å®è·µ
  - å¸¸è§é—®é¢˜
  - ç¤ºä¾‹ä»£ç 
- **éªŒæ”¶æ ‡å‡†**: æ–‡æ¡£æ¸…æ™°æ˜“æ‡‚ï¼Œè¦†ç›–æ‰€æœ‰å…³é”®ç‚¹

#### ä»»åŠ¡ 6.5: æ’ä»¶å¼€å‘è„šæ‰‹æ¶

- **æ–‡ä»¶**: `scripts/create-plugin.js`
- **åŠŸèƒ½**: å¿«é€Ÿç”Ÿæˆæ’ä»¶é¡¹ç›®æ¨¡æ¿
- **ä½¿ç”¨**: `npm run create-plugin my-plugin`
- **éªŒæ”¶æ ‡å‡†**: èƒ½ç”Ÿæˆå®Œæ•´çš„æ’ä»¶æ¨¡æ¿

### é˜¶æ®µ 7: å®‰å…¨ä¸ä¼˜åŒ–

#### ä»»åŠ¡ 7.1: æƒé™ç³»ç»Ÿ

- **æ–‡ä»¶**: `src/main/modules/pluginPermissions.ts`
- **åŠŸèƒ½**:
  - æƒé™æ£€æŸ¥
  - æƒé™è¯·æ±‚ï¼ˆè¿è¡Œæ—¶ï¼‰
  - æƒé™æ‹’ç»å¤„ç†
- **éªŒæ”¶æ ‡å‡†**: æƒé™ç³»ç»Ÿæœ‰æ•ˆï¼Œæœªæˆæƒæ“ä½œè¢«é˜»æ­¢

#### ä»»åŠ¡ 7.2: æ’ä»¶æ²™ç®±

- **æ–‡ä»¶**: `src/main/modules/pluginSandbox.ts`
- **åŠŸèƒ½**:
  - éš”ç¦»æ’ä»¶æ‰§è¡Œç¯å¢ƒ
  - é™åˆ¶è®¿é—®èŒƒå›´
  - èµ„æºé™åˆ¶ï¼ˆå†…å­˜ã€CPUï¼‰
- **éªŒæ”¶æ ‡å‡†**: æ’ä»¶æ— æ³•è®¿é—®ä¸åº”è¯¥è®¿é—®çš„èµ„æº

#### ä»»åŠ¡ 7.3: é”™è¯¯å¤„ç†ä¸æ—¥å¿—

- **æ–‡ä»¶**: `src/main/modules/pluginLogger.ts`
- **åŠŸèƒ½**:
  - æ’ä»¶æ—¥å¿—ç³»ç»Ÿ
  - é”™è¯¯æ•è·ä¸æŠ¥å‘Š
  - è°ƒè¯•æ”¯æŒ
- **éªŒæ”¶æ ‡å‡†**: æ‰€æœ‰æ’ä»¶æ“ä½œæœ‰æ—¥å¿—ï¼Œé”™è¯¯èƒ½è¢«æ•è·

#### ä»»åŠ¡ 7.4: æ€§èƒ½ä¼˜åŒ–

- **ä¼˜åŒ–ç‚¹**:
  - æ’ä»¶æ‡’åŠ è½½
  - ç»„ä»¶ç¼“å­˜
  - å‡å°‘ IPC é€šä¿¡
- **éªŒæ”¶æ ‡å‡†**: æ’ä»¶åŠ è½½å¿«é€Ÿï¼Œä¸å½±å“ä¸»åº”ç”¨æ€§èƒ½

---

## ğŸ”Œ API è®¾è®¡

### ä¸»è¿›ç¨‹ API (PluginContext.api)

```typescript
interface PluginAPI {
  // è®¾ç½® API
  settings: {
    getAIConfig(): Promise<{
      baseUrl: string
      apiKey: string
      models: string[]
      defaultModel: string
    }>
    getSettings(): Promise<AppSettings>
    getSetting<K extends keyof AppSettings>(key: K): Promise<AppSettings[K]>
  }

  // å¯¹è¯æ¡† API
  dialog: {
    showOpenDialog(options: OpenDialogOptions): Promise<string[] | undefined>
    showSaveDialog(options: SaveDialogOptions): Promise<string | undefined>
    showMessageBox(options: MessageBoxOptions): Promise<number>
  }

  // é€šçŸ¥ API
  notification: {
    show(options: { title: string; body: string; icon?: string }): void
  }

  // å‰ªè´´æ¿ API
  clipboard: {
    readText(): string
    writeText(text: string): void
    readImage(): NativeImage | undefined
  }

  // æ–‡ä»¶ç³»ç»Ÿ APIï¼ˆå—é™ï¼‰
  fs: {
    readFile(path: string, options?: { encoding?: string }): Promise<string | Buffer>
    writeFile(path: string, data: string | Buffer, options?: { encoding?: string }): Promise<void>
    exists(path: string): Promise<boolean>
    mkdir(path: string, options?: { recursive?: boolean }): Promise<void>
    readdir(path: string): Promise<string[]>
  }

  // é…ç½® API
  config: {
    get(key: string): Promise<any>
    set(key: string, value: any): Promise<void>
    getAll(): Promise<Record<string, any>>
    setAll(config: Record<string, any>): Promise<void>
    onChange(key: string, callback: (newValue: any, oldValue: any) => void): void
  }

  // IPC API
  ipc: {
    handle(channel: string, handler: (event: any, ...args: any[]) => any): void
    send(channel: string, ...args: any[]): void
    on(channel: string, listener: (event: any, ...args: any[]) => void): void
  }
}
```

### æ¸²æŸ“è¿›ç¨‹ API (window.api.plugin)

```typescript
interface PluginRendererAPI {
  // æ’ä»¶ç®¡ç†
  getAll(): Promise<PluginManifest[]>
  getEnabled(): Promise<PluginManifest[]>
  toggleEnabled(pluginId: string, enabled: boolean): Promise<void>

  // é…ç½®ç®¡ç†
  getConfig(pluginId: string): Promise<any>
  setConfig(pluginId: string, config: any): Promise<void>

  // æ‰§è¡Œ
  execute(pluginId: string, params: any): Promise<any>

  // é‡è½½
  reload(pluginId: string): Promise<void>

  // æ¸²æŸ“è¿›ç¨‹é€šçŸ¥ API
  notification: {
    show(options: { title: string; message: string }): void
  }

  // æ¸²æŸ“è¿›ç¨‹å‰ªè´´æ¿ API
  clipboard: {
    readText(): Promise<string>
    writeText(text: string): Promise<void>
  }
}
```

---

## ğŸ”’ å®‰å…¨ä¸éš”ç¦»

### å®‰å…¨åŸåˆ™

1. **æœ€å°æƒé™åŸåˆ™**: æ’ä»¶åªèƒ½è®¿é—®å®ƒå£°æ˜çš„æƒé™
2. **è·¯å¾„é™åˆ¶**: æ–‡ä»¶ç³»ç»Ÿè®¿é—®ä»…é™äºï¼š
   - æ’ä»¶è‡ªå·±çš„ç›®å½•
   - ç”¨æˆ·é€šè¿‡å¯¹è¯æ¡†é€‰æ‹©çš„æ–‡ä»¶/ç›®å½•
   - åº”ç”¨çš„ userData ç›®å½•ï¼ˆå­ç›®å½•ï¼‰
3. **IPC éš”ç¦»**: æ’ä»¶ä¸èƒ½ç›´æ¥è®¿é—®ä¸»è¿›ç¨‹ï¼Œæ‰€æœ‰é€šä¿¡é€šè¿‡å—æ§çš„ IPC é€šé“
4. **é…ç½®éªŒè¯**: æ‰€æœ‰æ’ä»¶é…ç½®éœ€é€šè¿‡ JSON Schema éªŒè¯
5. **é”™è¯¯éš”ç¦»**: æ’ä»¶é”™è¯¯ä¸å½±å“ä¸»åº”ç”¨è¿è¡Œ

### æƒé™ç³»ç»Ÿ

```typescript
enum PluginPermission {
  SETTINGS_READ = 'settings:read', // è¯»å–åº”ç”¨è®¾ç½®
  SETTINGS_WRITE = 'settings:write', // å†™å…¥åº”ç”¨è®¾ç½®
  AI_CONFIG = 'ai:config', // è®¿é—® AI é…ç½®
  FS_READ = 'fs:read', // æ–‡ä»¶ç³»ç»Ÿè¯»å–ï¼ˆå—é™è·¯å¾„ï¼‰
  FS_WRITE = 'fs:write', // æ–‡ä»¶ç³»ç»Ÿå†™å…¥ï¼ˆå—é™è·¯å¾„ï¼‰
  DIALOG = 'dialog', // æ‰“å¼€ç³»ç»Ÿå¯¹è¯æ¡†
  NOTIFICATION = 'notification', // æ˜¾ç¤ºç³»ç»Ÿé€šçŸ¥
  CLIPBOARD = 'clipboard', // è®¿é—®å‰ªè´´æ¿
  NETWORK = 'network', // ç½‘ç»œè¯·æ±‚ï¼ˆæœªæ¥ï¼‰
  SHELL = 'shell' // æ‰§è¡Œ Shell å‘½ä»¤ï¼ˆæœªæ¥ï¼Œé«˜é£é™©ï¼‰
}
```

### æ²™ç®±æœºåˆ¶

1. **Node.js VM**: ä½¿ç”¨ `vm.createContext` åˆ›å»ºéš”ç¦»ç¯å¢ƒ
2. **ä»£ç†å¯¹è±¡**: é€šè¿‡ Proxy æ§åˆ¶ API è®¿é—®
3. **è¶…æ—¶æ§åˆ¶**: é™åˆ¶æ’ä»¶æ‰§è¡Œæ—¶é—´
4. **èµ„æºç›‘æ§**: ç›‘æ§å†…å­˜å’Œ CPU ä½¿ç”¨

---

## ğŸ“Š å¼€å‘ä¼˜å…ˆçº§

### P0 (å¿…é¡»å®Œæˆï¼Œæ ¸å¿ƒåŠŸèƒ½)

1. âœ… ç±»å‹å®šä¹‰ä¸æ¥å£è®¾è®¡
2. âœ… æ’ä»¶é…ç½®å­˜å‚¨
3. âœ… æ’ä»¶åŠ è½½å™¨
4. âœ… æ’ä»¶ç®¡ç†å™¨
5. âœ… æ’ä»¶ API æä¾›è€…ï¼ˆåŸºç¡€ APIï¼‰
6. âœ… IPC å¤„ç†å™¨
7. âœ… Preload æ¡¥æ¥
8. âœ… æ’ä»¶ Store
9. âœ… æ’ä»¶ç®¡ç†é¡µé¢ç»„ä»¶
10. âœ… Settings è·¯ç”±å’Œèœå•é›†æˆ
11. âœ… ItemTypeSelector é›†æˆ
12. âœ… ç¤ºä¾‹æ’ä»¶ 1 - Hello World
13. âœ… æ’ä»¶å¼€å‘æ–‡æ¡£

### P1 (é‡è¦ï¼Œå¢å¼ºåŠŸèƒ½)

1. âœ… æ’ä»¶é…ç½®å¯¹è¯æ¡†
2. âœ… æ’ä»¶åŠ¨æ€ç»„ä»¶åŠ è½½å™¨
3. âœ… æ’ä»¶é€‰æ‹©å™¨ç»„ä»¶
4. âœ… æ’ä»¶æ‰§è¡Œæµç¨‹
5. âœ… ç¤ºä¾‹æ’ä»¶ 2 - AI é…ç½®æŸ¥çœ‹å™¨
6. âœ… æƒé™ç³»ç»Ÿ
7. âœ… é”™è¯¯å¤„ç†ä¸æ—¥å¿—

### P2 (å¯é€‰ï¼Œè¿›é˜¶åŠŸèƒ½)

1. æ’ä»¶æ‰§è¡Œçª—å£
2. ç¤ºä¾‹æ’ä»¶ 3 - è‡ªå®šä¹‰é¢æ¿
3. æ’ä»¶æ²™ç®±
4. æ’ä»¶å¼€å‘è„šæ‰‹æ¶
5. æ€§èƒ½ä¼˜åŒ–
6. æ’ä»¶å¸‚åœºï¼ˆæœªæ¥ï¼‰

---

## ğŸ§ª æµ‹è¯•ç­–ç•¥

### å•å…ƒæµ‹è¯•

- æ’ä»¶åŠ è½½å™¨æµ‹è¯•
- æ’ä»¶éªŒè¯æµ‹è¯•
- æƒé™æ£€æŸ¥æµ‹è¯•
- API åŠŸèƒ½æµ‹è¯•

### é›†æˆæµ‹è¯•

- æ’ä»¶ç”Ÿå‘½å‘¨æœŸæµ‹è¯•
- IPC é€šä¿¡æµ‹è¯•
- é…ç½®å­˜å‚¨æµ‹è¯•

### E2E æµ‹è¯•

- æ’ä»¶å®‰è£…æµç¨‹
- æ’ä»¶å¯ç”¨/ç¦ç”¨
- æ’ä»¶æ‰§è¡Œæµç¨‹
- æ’ä»¶é…ç½®ä¿®æ”¹

### ç¤ºä¾‹æ’ä»¶æµ‹è¯•

- æ¯ä¸ªç¤ºä¾‹æ’ä»¶éƒ½åº”è¯¥èƒ½æˆåŠŸè¿è¡Œ
- éªŒè¯æ‰€æœ‰ API åŠŸèƒ½æ­£å¸¸

---

## ğŸ“¦ ç›®å½•ç»“æ„

```
fingertips-ai/
â”œâ”€â”€ plugins/                          # æ’ä»¶ç›®å½•ï¼ˆæ–°å¢ï¼‰
â”‚   â”œâ”€â”€ hello-world/                 # ç¤ºä¾‹æ’ä»¶ 1
â”‚   â”œâ”€â”€ ai-config-viewer/            # ç¤ºä¾‹æ’ä»¶ 2
â”‚   â””â”€â”€ custom-panel/                # ç¤ºä¾‹æ’ä»¶ 3
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”œâ”€â”€ modules/
â”‚   â”‚   â”‚   â”œâ”€â”€ pluginStore.ts      # æ’ä»¶é…ç½®å­˜å‚¨ï¼ˆæ–°å¢ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ pluginLoader.ts     # æ’ä»¶åŠ è½½å™¨ï¼ˆæ–°å¢ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ pluginManager.ts    # æ’ä»¶ç®¡ç†å™¨ï¼ˆæ–°å¢ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ pluginAPI.ts        # æ’ä»¶ API æä¾›è€…ï¼ˆæ–°å¢ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ pluginHandlers.ts   # IPC å¤„ç†å™¨ï¼ˆæ–°å¢ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ pluginPermissions.ts # æƒé™ç³»ç»Ÿï¼ˆæ–°å¢ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ pluginSandbox.ts    # æ²™ç®±ï¼ˆæ–°å¢ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ pluginLogger.ts     # æ—¥å¿—ï¼ˆæ–°å¢ï¼‰
â”‚   â”‚   â”‚   â””â”€â”€ pluginWindow.ts     # æ’ä»¶çª—å£ï¼ˆæ–°å¢ï¼Œå¯é€‰ï¼‰
â”‚   â”‚   â””â”€â”€ types/
â”‚   â”‚       â””â”€â”€ plugin.ts            # æ’ä»¶ç±»å‹å®šä¹‰ï¼ˆæ–°å¢ï¼‰
â”‚   â”œâ”€â”€ preload/
â”‚   â”‚   â”œâ”€â”€ index.ts                 # æ‰©å±• plugin API
â”‚   â”‚   â””â”€â”€ index.d.ts               # æ‰©å±•ç±»å‹å£°æ˜
â”‚   â””â”€â”€ renderer/
â”‚       â”œâ”€â”€ plugin-window.html       # æ’ä»¶çª—å£ï¼ˆæ–°å¢ï¼Œå¯é€‰ï¼‰
â”‚       â””â”€â”€ src/
â”‚           â”œâ”€â”€ stores/
â”‚           â”‚   â””â”€â”€ plugin.ts        # æ’ä»¶ Storeï¼ˆæ–°å¢ï¼‰
â”‚           â”œâ”€â”€ components/
â”‚           â”‚   â””â”€â”€ settings/
â”‚           â”‚       â”œâ”€â”€ PluginManager.vue  # æ’ä»¶ç®¡ç†é¡µé¢ï¼ˆæ–°å¢ï¼‰
â”‚           â”‚       â””â”€â”€ plugin/
â”‚           â”‚           â””â”€â”€ PluginConfigDialog.vue  # é…ç½®å¯¹è¯æ¡†ï¼ˆæ–°å¢ï¼‰
â”‚           â”‚   â””â”€â”€ super-panel/
â”‚           â”‚       â”œâ”€â”€ ItemTypeSelector.vue  # ä¿®æ”¹
â”‚           â”‚       â”œâ”€â”€ PluginSelector.vue    # æ’ä»¶é€‰æ‹©å™¨ï¼ˆæ–°å¢ï¼‰
â”‚           â”‚       â””â”€â”€ AddPluginView.vue     # æ’ä»¶æ·»åŠ è§†å›¾ï¼ˆæ–°å¢ï¼‰
â”‚           â”œâ”€â”€ composables/
â”‚           â”‚   â””â”€â”€ usePluginComponent.ts  # åŠ¨æ€ç»„ä»¶åŠ è½½ï¼ˆæ–°å¢ï¼‰
â”‚           â”œâ”€â”€ Settings.vue         # ä¿®æ”¹ï¼ˆæ·»åŠ èœå•ï¼‰
â”‚           â””â”€â”€ settings.ts          # ä¿®æ”¹ï¼ˆæ·»åŠ è·¯ç”±ï¼‰
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ PLUGIN_SYSTEM_DEVELOPMENT_PLAN.md  # æœ¬æ–‡æ¡£
â”‚   â””â”€â”€ PLUGIN_DEVELOPMENT_GUIDE.md        # æ’ä»¶å¼€å‘æŒ‡å—ï¼ˆæ–°å¢ï¼‰
â””â”€â”€ scripts/
    â””â”€â”€ create-plugin.js             # æ’ä»¶è„šæ‰‹æ¶ï¼ˆæ–°å¢ï¼‰
```

---

## ğŸš€ å¼€å‘æµç¨‹

### ç¬¬ä¸€æ­¥: é˜…è¯»æœ¬æ–‡æ¡£

- ç†è§£æ•´ä½“æ¶æ„
- æ˜ç¡®å¼€å‘ç›®æ ‡
- äº†è§£æŠ€æœ¯è§„èŒƒ

### ç¬¬äºŒæ­¥: æŒ‰é˜¶æ®µå¼€å‘

- ä¸¥æ ¼æŒ‰ç…§é˜¶æ®µé¡ºåºå¼€å‘ï¼ˆé˜¶æ®µ 1 â†’ 2 â†’ 3 â†’ 4 â†’ 5 â†’ 6 â†’ 7ï¼‰
- æ¯å®Œæˆä¸€ä¸ªä»»åŠ¡ï¼Œè¿›è¡ŒéªŒæ”¶æµ‹è¯•
- ç¡®ä¿å‰ä¸€é˜¶æ®µå®Œæˆåå†è¿›å…¥ä¸‹ä¸€é˜¶æ®µ

### ç¬¬ä¸‰æ­¥: æŒç»­æµ‹è¯•

- å¼€å‘è¿‡ç¨‹ä¸­éšæ—¶æµ‹è¯•
- ç¼–å†™å•å…ƒæµ‹è¯•
- ä½¿ç”¨ç¤ºä¾‹æ’ä»¶éªŒè¯åŠŸèƒ½

### ç¬¬å››æ­¥: æ–‡æ¡£å®Œå–„

- åŠæ—¶æ›´æ–° API æ–‡æ¡£
- è®°å½•é‡è¦å†³ç­–
- ç¼–å†™ä½¿ç”¨è¯´æ˜

### ç¬¬äº”æ­¥: ä»£ç å®¡æŸ¥ä¸ä¼˜åŒ–

- ä»£ç è´¨é‡æ£€æŸ¥
- æ€§èƒ½ä¼˜åŒ–
- å®‰å…¨å®¡æŸ¥

---

## ğŸ¯ å…³é”®å†³ç­–ä¸ä¼˜åŒ–å»ºè®®

### 1. æ’ä»¶æ ¼å¼é€‰æ‹©

**å†³ç­–**: ä½¿ç”¨ JavaScript/TypeScript æ¨¡å—æ ¼å¼
**ç†ç”±**:

- ä¸ç°æœ‰æŠ€æœ¯æ ˆä¸€è‡´
- å­¦ä¹ æˆæœ¬ä½
- çµæ´»æ€§é«˜
- æ”¯æŒ TypeScript ç±»å‹æ£€æŸ¥

### 2. é…ç½®å­˜å‚¨æ–¹æ¡ˆ

**å†³ç­–**: ä½¿ç”¨ electron-store
**ç†ç”±**:

- é¡¹ç›®å·²ä½¿ç”¨ï¼Œæ— éœ€é¢å¤–ä¾èµ–
- å¯é çš„æŒä¹…åŒ–
- æ”¯æŒå¤æ‚æ•°æ®ç»“æ„
- è‡ªåŠ¨å¤„ç†æ–‡ä»¶è¯»å†™

### 3. UI ç»„ä»¶åŠ è½½æ–¹å¼

**å†³ç­–**: Vue 3 åŠ¨æ€ç»„ä»¶ + è¿è¡Œæ—¶ç¼–è¯‘
**ä¼˜åŒ–**:

- è€ƒè™‘ä½¿ç”¨æ„å»ºæ—¶ç¼–è¯‘ï¼ˆå¦‚æœæ’ä»¶ä½“ç§¯å¤§ï¼‰
- å®ç°ç»„ä»¶ç¼“å­˜æœºåˆ¶
- æ”¯æŒå¼‚æ­¥ç»„ä»¶

### 4. æƒé™æ¨¡å‹

**å†³ç­–**: å£°æ˜å¼æƒé™ + è¿è¡Œæ—¶æ£€æŸ¥
**ä¼˜åŒ–**:

- é¦–æ¬¡ä½¿ç”¨æ—¶è¯·æ±‚æƒé™ï¼ˆæ›´å¥½çš„ç”¨æˆ·ä½“éªŒï¼‰
- æä¾›æƒé™ç®¡ç†ç•Œé¢
- è®°å½•æƒé™ä½¿ç”¨æ—¥å¿—

### 5. æ’ä»¶æ²™ç®±

**å»ºè®®**:

- åˆæœŸå¯ä»¥ä¸å®ç°å®Œæ•´æ²™ç®±ï¼ˆç®€åŒ–å¼€å‘ï¼‰
- ä½¿ç”¨æƒé™ç³»ç»Ÿä½œä¸ºç¬¬ä¸€é“é˜²çº¿
- åæœŸå¯å¼•å…¥ Node.js VM æˆ– Worker çº¿ç¨‹

### 6. æ’ä»¶æ›´æ–°æœºåˆ¶

**æœªæ¥ä¼˜åŒ–**:

- æ”¯æŒæ’ä»¶åœ¨çº¿æ›´æ–°
- ç‰ˆæœ¬ç®¡ç†
- è‡ªåŠ¨æ£€æµ‹æ›´æ–°

### 7. æ’ä»¶å¸‚åœº

**æœªæ¥æ‰©å±•**:

- å»ºç«‹æ’ä»¶ä»“åº“
- æ’ä»¶å®¡æ ¸æœºåˆ¶
- ç”¨æˆ·è¯„ä»·ç³»ç»Ÿ

---

## âœ… éªŒæ”¶æ ‡å‡†æ€»ç»“

### åŠŸèƒ½éªŒæ”¶

- âœ… èƒ½æ‰«æå¹¶åŠ è½½ç¬¦åˆè§„èŒƒçš„æ’ä»¶
- âœ… æ’ä»¶èƒ½åœ¨è®¾ç½®é¡µé¢æ­£å¸¸æ˜¾ç¤ºå’Œé…ç½®
- âœ… æ’ä»¶èƒ½ä» SuperPanel æ­£å¸¸é€‰æ‹©å’Œæ‰§è¡Œ
- âœ… æ’ä»¶ API åŠŸèƒ½æ­£å¸¸ï¼Œæƒé™æ§åˆ¶æœ‰æ•ˆ
- âœ… æ’ä»¶é…ç½®èƒ½æ­£ç¡®ä¿å­˜å’ŒåŠ è½½
- âœ… æ’ä»¶é”™è¯¯ä¸å½±å“ä¸»åº”ç”¨

### æ€§èƒ½éªŒæ”¶

- âœ… æ’ä»¶åŠ è½½æ—¶é—´ < 500msï¼ˆå°å‹æ’ä»¶ï¼‰
- âœ… æ’ä»¶æ‰§è¡Œä¸é˜»å¡ä¸»çº¿ç¨‹
- âœ… å†…å­˜å ç”¨åˆç†ï¼ˆæ¯ä¸ªæ’ä»¶ < 50MBï¼‰

### å®‰å…¨éªŒæ”¶

- âœ… æœªæˆæƒçš„æ–‡ä»¶ç³»ç»Ÿè®¿é—®è¢«é˜»æ­¢
- âœ… æ’ä»¶åªèƒ½è®¿é—®å£°æ˜çš„æƒé™
- âœ… æ’ä»¶é…ç½®é€šè¿‡ Schema éªŒè¯

### ç”¨æˆ·ä½“éªŒéªŒæ”¶

- âœ… æ’ä»¶ç®¡ç†ç•Œé¢ç¾è§‚æ˜“ç”¨
- âœ… æ’ä»¶é”™è¯¯æœ‰å‹å¥½æç¤º
- âœ… æ’ä»¶åŠ è½½çŠ¶æ€æœ‰è§†è§‰åé¦ˆ
- âœ… æ’ä»¶é…ç½®ç•Œé¢ç›´è§‚

### å¼€å‘ä½“éªŒéªŒæ”¶

- âœ… æ’ä»¶å¼€å‘æ–‡æ¡£å®Œæ•´æ¸…æ™°
- âœ… ç¤ºä¾‹æ’ä»¶è¿è¡Œæ­£å¸¸
- âœ… API ç±»å‹æç¤ºå®Œå–„
- âœ… é”™è¯¯ä¿¡æ¯æœ‰å¸®åŠ©æ€§

---

## ğŸ“š å‚è€ƒèµ„æ–™

### Electron æ’ä»¶ç³»ç»Ÿæ¡ˆä¾‹

- VSCode Extension API
- Atom Packages
- Obsidian Plugins

### ç›¸å…³æŠ€æœ¯æ–‡æ¡£

- [Electron IPC é€šä¿¡](https://www.electronjs.org/docs/latest/tutorial/ipc)
- [Vue 3 åŠ¨æ€ç»„ä»¶](https://vuejs.org/guide/essentials/component-basics.html#dynamic-components)
- [JSON Schema](https://json-schema.org/)
- [Node.js VM](https://nodejs.org/api/vm.html)

---

## ğŸ“ å˜æ›´æ—¥å¿—

### Version 1.0.0 (2025-10-18)

- åˆå§‹ç‰ˆæœ¬
- å®Œæ•´çš„æ’ä»¶ç³»ç»Ÿè®¾è®¡æ–¹æ¡ˆ
- è¯¦ç»†çš„å¼€å‘ä»»åŠ¡æ¸…å•
- API è®¾è®¡æ–‡æ¡£
- å®‰å…¨ä¸éš”ç¦»ç­–ç•¥

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

å¦‚æœä½ åœ¨å¼€å‘è¿‡ç¨‹ä¸­å‘ç°æœ¬æ–¹æ¡ˆçš„ä¸è¶³æˆ–æœ‰æ›´å¥½çš„æƒ³æ³•ï¼Œè¯·åŠæ—¶æ›´æ–°æœ¬æ–‡æ¡£ã€‚

**æ›´æ–°æµç¨‹**:

1. è®°å½•é—®é¢˜æˆ–æ”¹è¿›ç‚¹
2. è®¨è®ºè§£å†³æ–¹æ¡ˆ
3. æ›´æ–°æ–‡æ¡£
4. åŒæ­¥åˆ°å›¢é˜Ÿ

---

## â“ FAQ

### Q1: æ’ä»¶å¯ä»¥è®¿é—®ç½‘ç»œå—ï¼Ÿ

A: ç›®å‰çš„æ–¹æ¡ˆä¸­ï¼Œæ’ä»¶è¿è¡Œåœ¨ Node.js ç¯å¢ƒï¼Œç†è®ºä¸Šå¯ä»¥è®¿é—®ç½‘ç»œã€‚ä½†å»ºè®®ï¼š

- åœ¨ manifest.json ä¸­å£°æ˜ `network` æƒé™
- é€šè¿‡ä»£ç†æ§åˆ¶ç½‘ç»œè®¿é—®
- è®°å½•ç½‘ç»œè¯·æ±‚æ—¥å¿—

### Q2: æ’ä»¶å¯ä»¥åˆ›å»ºæ–°çª—å£å—ï¼Ÿ

A: å¯ä»¥ï¼Œä½†éœ€è¦ï¼š

- å£°æ˜ç›¸åº”æƒé™
- é€šè¿‡æ’ä»¶ API åˆ›å»ºçª—å£ï¼ˆè€Œä¸æ˜¯ç›´æ¥ä½¿ç”¨ Electron APIï¼‰
- çª—å£å—åˆ°ç®¡ç†å™¨æ§åˆ¶

### Q3: æ’ä»¶ä¹‹é—´å¯ä»¥é€šä¿¡å—ï¼Ÿ

A: ç›®å‰æ–¹æ¡ˆä¸­æœªå®ç°ï¼Œä½†å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼æ‰©å±•ï¼š

- äº‹ä»¶æ€»çº¿
- å…±äº«çŠ¶æ€ï¼ˆé€šè¿‡ pluginManagerï¼‰
- IPC è½¬å‘

### Q4: å¦‚ä½•è°ƒè¯•æ’ä»¶ï¼Ÿ

A:

- ä½¿ç”¨ `pluginLogger` è®°å½•æ—¥å¿—
- åœ¨å¼€å‘ç¯å¢ƒä¸­æ‰“å¼€ DevTools
- ä½¿ç”¨ `console.log`ï¼ˆä¼šæ˜¾ç¤ºåœ¨ä¸»è¿›ç¨‹æˆ–æ¸²æŸ“è¿›ç¨‹æ§åˆ¶å°ï¼‰

### Q5: æ’ä»¶å¯ä»¥ä¿®æ”¹ä¸»åº”ç”¨çš„è®¾ç½®å—ï¼Ÿ

A: å¯ä»¥ï¼Œä½†éœ€è¦ï¼š

- å£°æ˜ `settings:write` æƒé™
- é€šè¿‡ API ä¿®æ”¹ï¼ˆè€Œä¸æ˜¯ç›´æ¥è®¿é—® storeï¼‰
- ç”¨æˆ·åº”è¯¥çŸ¥é“æ’ä»¶ä¼šä¿®æ”¹è®¾ç½®

---

## ğŸ‰ æ€»ç»“

è¿™æ˜¯ä¸€ä¸ª**å®Œæ•´ã€å®‰å…¨ã€å¯æ‰©å±•**çš„æ’ä»¶ç³»ç»Ÿè®¾è®¡æ–¹æ¡ˆã€‚å®ƒï¼š

- âœ… **æ¶æ„æ¸…æ™°**: ä¸»è¿›ç¨‹ã€æ¸²æŸ“è¿›ç¨‹ã€æ’ä»¶ä¸‰è€…åˆ†ç¦»
- âœ… **å®‰å…¨å¯æ§**: æƒé™ç³»ç»Ÿã€è·¯å¾„é™åˆ¶ã€IPC éš”ç¦»
- âœ… **æ˜“äºå¼€å‘**: è§„èŒƒæ˜ç¡®ã€API ä¸°å¯Œã€ç¤ºä¾‹å®Œå–„
- âœ… **ç”¨æˆ·å‹å¥½**: UI ç¾è§‚ã€æ“ä½œæµç•…ã€é”™è¯¯æç¤ºå‹å¥½
- âœ… **æ€§èƒ½ä¼˜è‰¯**: æ‡’åŠ è½½ã€ç¼“å­˜ã€å¼‚æ­¥æ‰§è¡Œ
- âœ… **å¯æ‰©å±•**: æ”¯æŒæœªæ¥åŠŸèƒ½æ‰©å±•ï¼ˆæ²™ç®±ã€å¸‚åœºç­‰ï¼‰

æŒ‰ç…§æœ¬æ–¹æ¡ˆæ‰§è¡Œï¼Œå¯ä»¥å®ç°ä¸€ä¸ª**ç”Ÿäº§çº§åˆ«çš„æ’ä»¶ç³»ç»Ÿ**ï¼Œä¸º Fingertips AI æä¾›å¼ºå¤§çš„æ‰©å±•èƒ½åŠ›ï¼

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0.0  
**åˆ›å»ºæ—¥æœŸ**: 2025-10-18  
**æœ€åæ›´æ–°**: 2025-10-18  
**ç»´æŠ¤è€…**: Development Team
