# GitHub Release è‡ªåŠ¨å‘å¸ƒä¿®å¤æ–‡æ¡£

## ğŸ“‹ é—®é¢˜æè¿°

æ‰“åŒ…ååªæœ‰ tag `v1.0.0` ç”Ÿæˆäº† exe æ–‡ä»¶ï¼Œå…¶ä»–ç‰ˆæœ¬çš„ Release åªæœ‰æºç å‹ç¼©åŒ…ã€‚

## ğŸ” æ ¹æœ¬åŸå› åˆ†æ

### é—®é¢˜æ ¹æº

åœ¨ `electron-builder.yml` é…ç½®æ–‡ä»¶ä¸­ï¼Œ**ç¼ºå°‘ `draft: false` é…ç½®**ï¼Œå¯¼è‡´ electron-builder é»˜è®¤åˆ›å»ºè‰ç¨¿ï¼ˆdraftï¼‰çŠ¶æ€çš„ Releaseã€‚

### é—®é¢˜è¡¨ç°

1. **æ„å»ºæˆåŠŸ**ï¼šGitHub Actions æ„å»ºæµç¨‹æ­£å¸¸å®Œæˆ
2. **æ–‡ä»¶å·²ä¸Šä¼ **ï¼šexe æ–‡ä»¶ç¡®å®è¢«ä¸Šä¼ åˆ° GitHub Release
3. **Release æ˜¯è‰ç¨¿**ï¼šåˆ›å»ºçš„ Release å¤„äºè‰ç¨¿çŠ¶æ€ï¼Œä¸å¯¹å¤–å…¬å¼€
4. **åªèƒ½çœ‹åˆ°æºç **ï¼šæ™®é€šç”¨æˆ·è®¿é—® Release é¡µé¢æ—¶ï¼Œåªèƒ½çœ‹åˆ° GitHub è‡ªåŠ¨ç”Ÿæˆçš„æºç å‹ç¼©åŒ…
5. **éœ€è¦æ‰‹åŠ¨å‘å¸ƒ**ï¼šå¿…é¡»æ‰‹åŠ¨ç‚¹å‡»"Publish release"æ‰èƒ½å…¬å¼€ exe æ–‡ä»¶

### ä¸ºä»€ä¹ˆ v1.0.0 å¯ä»¥çœ‹åˆ° exeï¼Ÿ

ç”¨æˆ·å¯èƒ½æ‰‹åŠ¨å°† v1.0.0 çš„ Release ä»è‰ç¨¿çŠ¶æ€å‘å¸ƒä¸ºæ­£å¼ç‰ˆæœ¬ï¼Œæ‰€ä»¥èƒ½çœ‹åˆ° exe æ–‡ä»¶ã€‚

## âœ… è§£å†³æ–¹æ¡ˆ

### 1. ä¿®æ”¹ electron-builder.yml

**æ–‡ä»¶ä½ç½®**ï¼š`electron-builder.yml`

**ä¿®æ”¹å†…å®¹**ï¼šåœ¨ `publish` é…ç½®ä¸­æ·»åŠ  `draft: false` å’Œ `prerelease: false`

```yaml
publish:
  provider: github
  releaseType: release
  draft: false # âœ… æ–°å¢ï¼šç¡®ä¿ Release è‡ªåŠ¨å‘å¸ƒï¼Œä¸æ˜¯è‰ç¨¿
  prerelease: false # âœ… æ–°å¢ï¼šç¡®ä¿ä¸æ˜¯é¢„å‘å¸ƒç‰ˆæœ¬
```

**ä½œç”¨**ï¼š

- `draft: false`ï¼šRelease åˆ›å»ºåç«‹å³å‘å¸ƒï¼Œä¸éœ€è¦æ‰‹åŠ¨æ“ä½œ
- `prerelease: false`ï¼šæ ‡è®°ä¸ºæ­£å¼ç‰ˆæœ¬ï¼Œä¸æ˜¯é¢„å‘å¸ƒç‰ˆæœ¬

### 2. ä¼˜åŒ– GitHub Actions å·¥ä½œæµ

**æ–‡ä»¶ä½ç½®**ï¼š`.github/workflows/release.yml`

#### æ”¹è¿› 1ï¼šåˆ†ç¦»æ„å»ºå’Œå‘å¸ƒæ­¥éª¤

**åŸæ¥**ï¼š

```yaml
- name: Build and publish
  env:
    GH_TOKEN: ${{ secrets.GITHUB_TOKEN }}
  run: npm run build:win -- --publish always
```

**ç°åœ¨**ï¼š

```yaml
- name: Build application
  run: npm run build

- name: Publish to GitHub Releases
  env:
    GH_TOKEN: ${{ secrets.GITHUB_TOKEN }}
  run: npm run build:win -- --publish always
```

**ä¼˜ç‚¹**ï¼š

- æ„å»ºå’Œå‘å¸ƒæ­¥éª¤åˆ†ç¦»ï¼Œæ—¥å¿—æ›´æ¸…æ™°
- å¦‚æœæ„å»ºå¤±è´¥ï¼Œä¸ä¼šå°è¯•å‘å¸ƒ
- æ›´å®¹æ˜“å®šä½é—®é¢˜

#### æ”¹è¿› 2ï¼šå¢å¼ºæ—¥å¿—è¾“å‡º

æ·»åŠ äº†ä»¥ä¸‹ä¿¡æ¯åˆ° Release æ›´æ–°æ­¥éª¤ï¼š

- Release ID å’Œåç§°
- è‰ç¨¿çŠ¶æ€ï¼ˆdraft: true/falseï¼‰
- å‘å¸ƒæ—¶é—´
- æ‰€æœ‰ä¸Šä¼ çš„æ–‡ä»¶åˆ—è¡¨åŠå¤§å°

```yaml
console.log(`Found release: ${release.name} (ID: ${release.id})`);
console.log(`Release draft status: ${release.draft}`);
console.log(`Release published at: ${release.published_at || 'Not published'}`);

console.log('\nğŸ“¦ Release assets:');
assets.forEach(asset => {
  console.log(`  - ${asset.name} (${(asset.size / 1024 / 1024).toFixed(2)} MB)`);
});
```

**ä¼˜ç‚¹**ï¼š

- å¯ä»¥ç›´æ¥åœ¨ Actions æ—¥å¿—ä¸­éªŒè¯ exe æ–‡ä»¶æ˜¯å¦ä¸Šä¼ æˆåŠŸ
- æŸ¥çœ‹ Release çŠ¶æ€ï¼Œç¡®è®¤æ˜¯å¦æ­£ç¡®å‘å¸ƒ
- ä¾¿äºæ’æŸ¥é—®é¢˜

#### æ”¹è¿› 3ï¼šæ·»åŠ ç­‰å¾…æ—¶é—´

```javascript
// ç­‰å¾…ä¸€å°æ®µæ—¶é—´ç¡®ä¿ release å·²åˆ›å»º
await new Promise((resolve) => setTimeout(resolve, 3000))
```

**ä½œç”¨**ï¼šç¡®ä¿ electron-builder å®Œæˆ Release åˆ›å»ºåï¼Œå†æ›´æ–°æè¿°

### 3. æ›´æ–°æ–‡æ¡£

**æ–‡ä»¶ä½ç½®**ï¼š`.github/workflows/README.md`

æ·»åŠ äº†ï¼š

- å·¥ä½œæµç¨‹è¯¦ç»†è¯´æ˜
- æ•…éšœæ’é™¤æŒ‡å—
- Release è‡ªåŠ¨å‘å¸ƒçš„è¯´æ˜
- é…ç½®ç¤ºä¾‹

## ğŸ“ æœ€ä½³å®è·µ

### 1. electron-builder å‘å¸ƒé…ç½®

å¯¹äºå…¬å¼€é¡¹ç›®ï¼Œå»ºè®®çš„å®Œæ•´é…ç½®ï¼š

```yaml
publish:
  provider: github
  releaseType: release # å‘å¸ƒç±»å‹
  draft: false # ä¸ä½¿ç”¨è‰ç¨¿
  prerelease: false # ä¸æ˜¯é¢„å‘å¸ƒç‰ˆæœ¬
```

å¯¹äºéœ€è¦äººå·¥å®¡æ ¸çš„é¡¹ç›®ï¼š

```yaml
publish:
  provider: github
  releaseType: release
  draft: true # ä½¿ç”¨è‰ç¨¿ï¼Œéœ€è¦æ‰‹åŠ¨å‘å¸ƒ
  prerelease: false
```

å¯¹äºæµ‹è¯•ç‰ˆæœ¬ï¼š

```yaml
publish:
  provider: github
  releaseType: prerelease # æˆ–è€… releaseType: release + prerelease: true
  draft: false
  prerelease: true # æ ‡è®°ä¸ºé¢„å‘å¸ƒç‰ˆæœ¬
```

### 2. ç‰ˆæœ¬å·ç®¡ç†

- ä½¿ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼š`vä¸»ç‰ˆæœ¬.æ¬¡ç‰ˆæœ¬.ä¿®è®¢å·`ï¼ˆå¦‚ `v1.2.3`ï¼‰
- æ­£å¼ç‰ˆæœ¬ï¼š`v1.0.0`, `v1.1.0`, `v2.0.0`
- é¢„å‘å¸ƒç‰ˆæœ¬ï¼š`v1.0.0-beta.1`, `v2.0.0-rc.1`

### 3. Tag æ³¨é‡Šæœ€ä½³å®è·µ

```bash
git tag -a v1.2.0 -m "ç‰ˆæœ¬ 1.2.0

æ–°åŠŸèƒ½ï¼š
- âœ¨ æ·»åŠ äº†XXXåŠŸèƒ½
- ğŸ¨ ä¼˜åŒ–äº†YYYç•Œé¢
- âš¡ï¸ æå‡äº†ZZZæ€§èƒ½

Bugä¿®å¤ï¼š
- ğŸ› ä¿®å¤äº†AAAé—®é¢˜
- ğŸ› ä¿®å¤äº†BBBå´©æºƒ

æŠ€æœ¯æ”¹è¿›ï¼š
- ğŸ“¦ å‡çº§äº†CCCä¾èµ–
- ğŸ”§ æ”¹è¿›äº†DDDé…ç½®
"
```

### 4. å·¥ä½œæµæ—¥å¿—æ£€æŸ¥

æ¯æ¬¡å‘å¸ƒåï¼Œæ£€æŸ¥ Actions æ—¥å¿—ä¸­çš„ï¼š

1. âœ… æ„å»ºæ­¥éª¤æ˜¯å¦æˆåŠŸ
2. âœ… "Release draft status: false" ç¡®è®¤ä¸æ˜¯è‰ç¨¿
3. âœ… "Release assets" åˆ—è¡¨ä¸­åŒ…å« exe æ–‡ä»¶
4. âœ… exe æ–‡ä»¶å¤§å°åˆç†ï¼ˆä¸æ˜¯å‡  KB çš„é”™è¯¯æ–‡ä»¶ï¼‰

## ğŸ”§ æµ‹è¯•éªŒè¯

### åˆ›å»ºæµ‹è¯•ç‰ˆæœ¬

```bash
# 1. ç¡®ä¿ä»£ç å·²æäº¤
git add .
git commit -m "test: æµ‹è¯• release æµç¨‹"

# 2. åˆ›å»ºæµ‹è¯• tag
git tag -a v1.0.1 -m "æµ‹è¯•ç‰ˆæœ¬ 1.0.1"

# 3. æ¨é€ tag
git push origin v1.0.1

# 4. è®¿é—® GitHub Actions æŸ¥çœ‹æ„å»ºè¿‡ç¨‹
# 5. è®¿é—® Releases é¡µé¢éªŒè¯ exe æ–‡ä»¶æ˜¯å¦å­˜åœ¨
```

### æ¸…ç†æµ‹è¯•ç‰ˆæœ¬

```bash
# åˆ é™¤è¿œç¨‹ tag
git push --delete origin v1.0.1

# åˆ é™¤æœ¬åœ° tag
git tag -d v1.0.1

# åœ¨ GitHub Releases é¡µé¢æ‰‹åŠ¨åˆ é™¤å¯¹åº”çš„ Release
```

## ğŸ“Š ä¿®å¤æ•ˆæœå¯¹æ¯”

### ä¿®å¤å‰

| ç‰ˆæœ¬   | Release çŠ¶æ€ | æ˜¯å¦æœ‰ exe   | ç”¨æˆ·å¯è§    |
| ------ | ------------ | ------------ | ----------- |
| v1.0.0 | æ‰‹åŠ¨å‘å¸ƒ     | âœ…           | âœ…          |
| v1.0.1 | è‰ç¨¿         | âœ…ï¼ˆä¸å¯è§ï¼‰ | âŒ åªæœ‰æºç  |
| v1.0.2 | è‰ç¨¿         | âœ…ï¼ˆä¸å¯è§ï¼‰ | âŒ åªæœ‰æºç  |

### ä¿®å¤å

| ç‰ˆæœ¬   | Release çŠ¶æ€ | æ˜¯å¦æœ‰ exe | ç”¨æˆ·å¯è§ |
| ------ | ------------ | ---------- | -------- |
| v1.0.0 | å·²å‘å¸ƒ       | âœ…         | âœ…       |
| v1.0.3 | è‡ªåŠ¨å‘å¸ƒ     | âœ…         | âœ…       |
| v1.0.4 | è‡ªåŠ¨å‘å¸ƒ     | âœ…         | âœ…       |

## ğŸ¯ æ€»ç»“

### æ ¸å¿ƒä¿®æ”¹

1. **electron-builder.yml**ï¼šæ·»åŠ  `draft: false` å’Œ `prerelease: false`
2. **release.yml**ï¼šåˆ†ç¦»æ„å»ºæ­¥éª¤ï¼Œå¢å¼ºæ—¥å¿—è¾“å‡º
3. **README.md**ï¼šæ›´æ–°æ–‡æ¡£å’Œæ•…éšœæ’é™¤æŒ‡å—

### å…³é”®ç‚¹

- electron-builder **é»˜è®¤åˆ›å»ºè‰ç¨¿ Release**ï¼Œå¿…é¡»æ˜¾å¼è®¾ç½® `draft: false`
- è‰ç¨¿çŠ¶æ€çš„ Release ä¸­çš„æ–‡ä»¶ä¸å¯¹å¤–å…¬å¼€
- GitHub ä¼šä¸ºæ¯ä¸ª tag è‡ªåŠ¨åˆ›å»ºæºç å‹ç¼©åŒ…
- å¢å¼ºæ—¥å¿—è¾“å‡ºå¯ä»¥å¿«é€Ÿå®šä½é—®é¢˜

### é¢„æœŸæ•ˆæœ

âœ… æ¨é€æ–° tag åï¼ŒRelease è‡ªåŠ¨åˆ›å»ºå¹¶**ç«‹å³å‘å¸ƒ**  
âœ… ç”¨æˆ·å¯ä»¥ç›´æ¥ä¸‹è½½ exe å®‰è£…åŒ…  
âœ… æ— éœ€æ‰‹åŠ¨æ“ä½œ  
âœ… æ„å»ºæ—¥å¿—æ¸…æ™°ï¼Œä¾¿äºæ’æŸ¥é—®é¢˜

---

**æ–‡æ¡£åˆ›å»ºæ—¶é—´**ï¼š2025-10-20  
**ä¿®å¤ç‰ˆæœ¬**ï¼šé€‚ç”¨äº electron-builder 25.x åŠä»¥ä¸Š
