# çµåŠ¨å²›ç»„ä»¶å¼€å‘æŒ‡å—

## ğŸ“– ç®€ä»‹

æ¬¢è¿ä½¿ç”¨ Fingertips AI çµåŠ¨å²›ç»„ä»¶å¼€å‘ç³»ç»Ÿï¼æœ¬æŒ‡å—å°†å¸®åŠ©æ‚¨ä»é›¶å¼€å§‹åˆ›å»ºè‡ªå·±çš„çµåŠ¨å²›ç»„ä»¶ã€‚

çµåŠ¨å²›æ˜¯ä¸€ä¸ªä½äºå±å¹•é¡¶éƒ¨çš„ç‹¬ç«‹çª—å£ï¼Œå¯ä»¥æ˜¾ç¤ºå„ç§å®æ—¶ä¿¡æ¯ã€‚ç»„ä»¶ç³»ç»Ÿå…è®¸æ‚¨åœ¨æŠ˜å çŠ¶æ€ä¸‹å®šåˆ¶æ˜¾ç¤ºå†…å®¹ï¼ˆå·¦ã€ä¸­ã€å³ä¸‰ä¸ªä½ç½®ï¼‰ã€‚

## ğŸ¯ ç»„ä»¶ç±»å‹

ç³»ç»Ÿæ”¯æŒä¸¤ç§æ˜¾ç¤ºä½ç½®å’Œä¸¤ç§å®ç°ç±»å‹ï¼š

### æ˜¾ç¤ºä½ç½®

#### 1. æŠ˜å ç»„ä»¶ï¼ˆCollapsedï¼‰

æ˜¾ç¤ºåœ¨çµåŠ¨å²›æŠ˜å çŠ¶æ€ä¸‹ï¼Œä½äºçª—å£é¡¶éƒ¨çš„ä¸‰ä¸ªä½ç½®ï¼ˆå·¦ã€ä¸­ã€å³ï¼‰ã€‚

**ç‰¹ç‚¹ï¼š**

- ğŸ“ å›ºå®šä½ç½®ï¼šå·¦ã€ä¸­ã€å³ä¸‰é€‰ä¸€
- ğŸ“ ç´§å‡‘æ˜¾ç¤ºï¼š400Ã—30px çª—å£
- ğŸ”„ å®æ—¶æ›´æ–°ï¼šé€‚åˆçŠ¶æ€æŒ‡ç¤ºå™¨
- ğŸ’¡ ä¸€ç›®äº†ç„¶ï¼šå¿«é€Ÿè·å–ä¿¡æ¯

**é€‚ç”¨åœºæ™¯ï¼š**

- æ—¶é’Ÿ/æ—¥æœŸæ˜¾ç¤º
- ç³»ç»Ÿç›‘æ§æŒ‡ç¤ºå™¨
- ç®€å•çŠ¶æ€ä¿¡æ¯

#### 2. å±•å¼€ç»„ä»¶ï¼ˆExpandedï¼‰

æ˜¾ç¤ºåœ¨çµåŠ¨å²›å±•å¼€çŠ¶æ€ä¸‹ï¼Œæ”¯æŒæ›´ä¸°å¯Œçš„å†…å®¹å’Œäº¤äº’ã€‚

**ç‰¹ç‚¹ï¼š**

- ğŸ¨ è‡ªç”±å¸ƒå±€ï¼šæ”¯æŒ 2Ã—N ç½‘æ ¼
- ğŸ“ ä¸¤ç§å°ºå¯¸ï¼šå°å‹ï¼ˆ1è¡Œï¼‰ã€å¤§å‹ï¼ˆ2è¡Œï¼‰
- ğŸ–±ï¸ ä¸°å¯Œäº¤äº’ï¼šæ”¯æŒå®Œæ•´çš„ HTML/JS
- ğŸ”§ å¯ç¼–è¾‘ï¼šæ‹–æ‹½æ’åºã€æ·»åŠ åˆ é™¤

**é€‚ç”¨åœºæ™¯ï¼š**

- æ—¥å†ç»„ä»¶
- å¾…åŠäº‹é¡¹åˆ—è¡¨
- å¤©æ°”é¢„æŠ¥
- ç³»ç»Ÿèµ„æºå›¾è¡¨

---

### å®ç°ç±»å‹

#### 1. Simple ç±»å‹ï¼ˆæ¨èå…¥é—¨ï¼‰

é€‚ç”¨äºç®€å•çš„æ–‡æœ¬/æ•°æ®æ˜¾ç¤ºï¼Œåªéœ€é…ç½® `manifest.json` å³å¯ã€‚

**ç‰¹ç‚¹ï¼š**

- âœ… é›¶ä»£ç å¼€å‘
- âœ… JSON é…ç½®é©±åŠ¨
- âœ… æ”¯æŒæ¨¡æ¿å˜é‡
- âœ… è‡ªåŠ¨æ•°æ®æ›´æ–°
- âœ… è‡ªå®šä¹‰æ ·å¼

**é€‚ç”¨åœºæ™¯ï¼š**

- æ—¶é’Ÿ/æ—¥æœŸæ˜¾ç¤º
- ç³»ç»ŸçŠ¶æ€æŒ‡ç¤ºå™¨
- ç®€å•æ–‡æœ¬ä¿¡æ¯

#### 2. Advanced ç±»å‹ï¼ˆé«˜çº§åŠŸèƒ½ï¼‰

æ”¯æŒè‡ªå®šä¹‰ HTML/CSS/JavaScriptï¼Œé€‚ç”¨äºå¤æ‚äº¤äº’ã€‚

**ç‰¹ç‚¹ï¼š**

- âœ… å®Œå…¨è‡ªå®šä¹‰ UI
- âœ… æ”¯æŒå¤æ‚é€»è¾‘
- âœ… å¯è°ƒç”¨ç³»ç»Ÿ API
- âœ… æ”¯æŒç¬¬ä¸‰æ–¹åº“

**é€‚ç”¨åœºæ™¯ï¼š**

- å¤©æ°”é¢„æŠ¥ç»„ä»¶
- ç³»ç»Ÿç›‘æ§å›¾è¡¨
- è‡ªå®šä¹‰äº¤äº’ç»„ä»¶

---

## ğŸ“ ç›®å½•ç»“æ„

æ‰€æœ‰ç»„ä»¶å­˜æ”¾åœ¨é¡¹ç›®æ ¹ç›®å½•çš„ `dynamic-island-widgets/` æ–‡ä»¶å¤¹ä¸­ï¼š

```
fingertips-ai/
â””â”€â”€ dynamic-island-widgets/
    â”œâ”€â”€ your-widget/           # ä½ çš„ç»„ä»¶ç›®å½•
    â”‚   â”œâ”€â”€ manifest.json      # å¿…éœ€ï¼šç»„ä»¶é…ç½®æ–‡ä»¶
    â”‚   â”œâ”€â”€ widget.html        # å¯é€‰ï¼šAdvanced ç±»å‹çš„ HTML
    â”‚   â”œâ”€â”€ widget.css         # å¯é€‰ï¼šè‡ªå®šä¹‰æ ·å¼
    â”‚   â””â”€â”€ widget.js          # å¯é€‰ï¼šè‡ªå®šä¹‰é€»è¾‘
    â”œâ”€â”€ clock/                 # å†…ç½®ç¤ºä¾‹ï¼šæ—¶é’Ÿ
    â””â”€â”€ date/                  # å†…ç½®ç¤ºä¾‹ï¼šæ—¥æœŸ
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹ï¼šåˆ›å»º Simple ç»„ä»¶

### æ­¥éª¤ 1ï¼šåˆ›å»ºç»„ä»¶ç›®å½•

åœ¨ `dynamic-island-widgets/` ä¸‹åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶å¤¹ï¼Œä¾‹å¦‚ `my-clock`ï¼š

```bash
mkdir dynamic-island-widgets/my-clock
```

### æ­¥éª¤ 2ï¼šç¼–å†™ manifest.json

åœ¨ç»„ä»¶ç›®å½•ä¸‹åˆ›å»º `manifest.json`ï¼š

```json
{
  "id": "my-custom-clock",
  "name": "æˆ‘çš„æ—¶é’Ÿ",
  "version": "1.0.0",
  "description": "æ˜¾ç¤ºå½“å‰æ—¶é—´",
  "author": "Your Name",
  "type": "simple",
  "config": {
    "format": "HH:mm:ss",
    "updateInterval": 1000
  },
  "template": {
    "type": "text",
    "content": "{{time}}"
  },
  "styles": {
    "fontSize": "14px",
    "fontWeight": "600",
    "color": "rgba(0, 0, 0, 0.85)"
  }
}
```

### æ­¥éª¤ 3ï¼šé‡å¯åº”ç”¨

1. é‡å¯ Fingertips AI
2. æ‰“å¼€è®¾ç½® â†’ çµåŠ¨å²› â†’ æ”¶èµ·ç»„ä»¶
3. åœ¨ä¸‹æ‹‰èœå•ä¸­é€‰æ‹©"æˆ‘çš„æ—¶é’Ÿ"
4. æŸ¥çœ‹æ•ˆæœï¼

---

## ğŸ“š Manifest é…ç½®è¯¦è§£

### å¿…éœ€å­—æ®µ

| å­—æ®µ          | ç±»å‹                       | è¯´æ˜                                     |
| ------------- | -------------------------- | ---------------------------------------- |
| `id`          | string                     | ç»„ä»¶å”¯ä¸€æ ‡è¯†ç¬¦ï¼ˆå…¨å±€å”¯ä¸€ï¼Œå»ºè®®ä½¿ç”¨å‰ç¼€ï¼‰ |
| `name`        | string                     | ç»„ä»¶æ˜¾ç¤ºåç§°                             |
| `version`     | string                     | ç‰ˆæœ¬å·ï¼ˆéµå¾ª semver è§„èŒƒï¼‰               |
| `description` | string                     | ç»„ä»¶ç®€çŸ­æè¿°                             |
| `author`      | string                     | ä½œè€…åç§°                                 |
| `type`        | `'simple'` \| `'advanced'` | ç»„ä»¶ç±»å‹                                 |

### Simple ç±»å‹ä¸“ç”¨å­—æ®µ

#### `config` å¯¹è±¡

é…ç½®ç»„ä»¶è¡Œä¸ºï¼š

```json
{
  "config": {
    "format": "HH:mm:ss", // è‡ªå®šä¹‰æ ¼å¼å­—ç¬¦ä¸²
    "updateInterval": 1000 // æ›´æ–°é—´éš”ï¼ˆæ¯«ç§’ï¼‰ï¼Œæœ€å° 100ms
    // å¯æ·»åŠ å…¶ä»–è‡ªå®šä¹‰é…ç½®...
  }
}
```

#### `template` å¯¹è±¡

å®šä¹‰æ˜¾ç¤ºæ¨¡æ¿ï¼š

```json
{
  "template": {
    "type": "text", // æ¨¡æ¿ç±»å‹ï¼š'text' | 'html'
    "content": "{{time}}" // æ¨¡æ¿å†…å®¹ï¼Œæ”¯æŒå˜é‡æ›¿æ¢
  }
}
```

**æ”¯æŒçš„æ¨¡æ¿å˜é‡ï¼š**

æ ¹æ®ç»„ä»¶ ID è‡ªåŠ¨æä¾›ï¼š

- `built-in-clock`: `{{time}}` - æ ¼å¼åŒ–åçš„æ—¶é—´
- `built-in-date`: `{{date}}` - æ ¼å¼åŒ–åçš„æ—¥æœŸ
- è‡ªå®šä¹‰ç»„ä»¶ï¼šéœ€åœ¨ä¸»è¿›ç¨‹ä¸­å®ç°æ•°æ®æä¾›é€»è¾‘

#### `styles` å¯¹è±¡

è‡ªå®šä¹‰ CSS æ ·å¼ï¼š

```json
{
  "styles": {
    "fontSize": "14px",
    "fontWeight": "500",
    "color": "rgba(0, 0, 0, 0.8)",
    "letterSpacing": "0.5px",
    "textTransform": "uppercase"
    // æ”¯æŒæ‰€æœ‰æ ‡å‡† CSS å±æ€§ï¼ˆé©¼å³°å‘½åï¼‰
  }
}
```

### Advanced ç±»å‹ä¸“ç”¨å­—æ®µ

#### `entry` å­—æ®µ

æŒ‡å®š HTML å…¥å£æ–‡ä»¶ï¼š

```json
{
  "type": "advanced",
  "entry": "widget.html" // HTML æ–‡ä»¶è·¯å¾„ï¼ˆç›¸å¯¹äºç»„ä»¶ç›®å½•ï¼‰
}
```

---

## ğŸ¨ Simple ç»„ä»¶ç¤ºä¾‹

### ç¤ºä¾‹ 1ï¼šç®€å•æ–‡æœ¬

```json
{
  "id": "simple-text",
  "name": "æ¬¢è¿è¯­",
  "version": "1.0.0",
  "description": "æ˜¾ç¤ºå›ºå®šæ¬¢è¿æ–‡æœ¬",
  "author": "Fingertips AI",
  "type": "simple",
  "template": {
    "type": "text",
    "content": "Hello, World!"
  },
  "styles": {
    "fontSize": "13px",
    "color": "#666"
  }
}
```

### ç¤ºä¾‹ 2ï¼šæ ¼å¼åŒ–æ—¶é’Ÿ

```json
{
  "id": "custom-clock",
  "name": "24å°æ—¶åˆ¶æ—¶é’Ÿ",
  "version": "1.0.0",
  "description": "24å°æ—¶åˆ¶ï¼Œåªæ˜¾ç¤ºå°æ—¶å’Œåˆ†é’Ÿ",
  "author": "Your Name",
  "type": "simple",
  "config": {
    "format": "HH:mm",
    "updateInterval": 60000
  },
  "template": {
    "type": "text",
    "content": "{{time}}"
  },
  "styles": {
    "fontSize": "15px",
    "fontWeight": "700",
    "color": "#1677ff",
    "fontFamily": "monospace"
  }
}
```

### ç¤ºä¾‹ 3ï¼šæ—¥æœŸæ˜¾ç¤º

```json
{
  "id": "custom-date",
  "name": "ä¸­æ–‡æ—¥æœŸ",
  "version": "1.0.0",
  "description": "æ˜¾ç¤ºå¹´æœˆæ—¥",
  "author": "Your Name",
  "type": "simple",
  "config": {
    "format": "YYYYå¹´MMæœˆDDæ—¥",
    "updateInterval": 3600000
  },
  "template": {
    "type": "text",
    "content": "{{date}}"
  },
  "styles": {
    "fontSize": "14px",
    "color": "#374151"
  }
}
```

---

## ğŸ”§ Advanced ç»„ä»¶å¼€å‘

### æ­¥éª¤ 1ï¼šåˆ›å»ºç»„ä»¶ç›®å½•

```bash
mkdir dynamic-island-widgets/my-advanced-widget
```

### æ­¥éª¤ 2ï¼šåˆ›å»º manifest.json

```json
{
  "id": "my-advanced-widget",
  "name": "é«˜çº§ç»„ä»¶ç¤ºä¾‹",
  "version": "1.0.0",
  "description": "ä½¿ç”¨ HTML/JS çš„é«˜çº§ç»„ä»¶",
  "author": "Your Name",
  "type": "advanced",
  "entry": "widget.html"
}
```

### æ­¥éª¤ 3ï¼šåˆ›å»º widget.html

```html
<div class="advanced-widget">
  <span id="display">åŠ è½½ä¸­...</span>
</div>

<style>
  .advanced-widget {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    font-size: 14px;
    color: rgba(0, 0, 0, 0.8);
  }

  #display {
    font-weight: 500;
  }
</style>

<script>
  // ç»„ä»¶é€»è¾‘
  function updateWidget() {
    const now = new Date()
    const hours = String(now.getHours()).padStart(2, '0')
    const minutes = String(now.getMinutes()).padStart(2, '0')

    document.getElementById('display').textContent = `${hours}:${minutes}`
  }

  // åˆå§‹åŒ–
  updateWidget()

  // å®šæ—¶æ›´æ–°
  setInterval(updateWidget, 1000)
</script>
```

### æ­¥éª¤ 4ï¼šæµ‹è¯•ç»„ä»¶

1. é‡å¯åº”ç”¨
2. åœ¨è®¾ç½®ä¸­é€‰æ‹©è¯¥ç»„ä»¶
3. æŸ¥çœ‹æ•ˆæœ

---

## ğŸ¨ å±•å¼€ç»„ä»¶å¼€å‘ï¼ˆExpanded Widgetsï¼‰

å±•å¼€ç»„ä»¶æ˜¯æ˜¾ç¤ºåœ¨çµåŠ¨å²›å±•å¼€çŠ¶æ€ä¸‹çš„ç»„ä»¶ï¼Œæ”¯æŒæ›´ä¸°å¯Œçš„å†…å®¹å’Œäº¤äº’ã€‚

### å±•å¼€ç»„ä»¶çš„ Manifest é…ç½®

å±•å¼€ç»„ä»¶éœ€è¦åœ¨ `manifest.json` ä¸­æ·»åŠ ä»¥ä¸‹å­—æ®µï¼š

```json
{
  "id": "my-expanded-widget",
  "name": "æˆ‘çš„å±•å¼€ç»„ä»¶",
  "version": "1.0.0",
  "description": "å±•å¼€è§†å›¾ä¸­çš„è‡ªå®šä¹‰ç»„ä»¶",
  "author": "Your Name",
  "type": "advanced",
  "category": "expanded", // å¿…éœ€ï¼šæ ‡è®°ä¸ºå±•å¼€ç»„ä»¶
  "expandedSize": "small", // å¿…éœ€ï¼š'small' (1è¡Œ) æˆ– 'large' (2è¡Œ)
  "expandedEntry": "widget.html" // å¿…éœ€ï¼šHTML æ–‡ä»¶è·¯å¾„
}
```

### Manifest å­—æ®µè¯´æ˜

| å­—æ®µ            | ç±»å‹                          | å¿…éœ€ | è¯´æ˜                            |
| --------------- | ----------------------------- | ---- | ------------------------------- |
| `category`      | `'collapsed'` \| `'expanded'` | âœ…   | ç»„ä»¶æ˜¾ç¤ºä½ç½®                    |
| `expandedSize`  | `'small'` \| `'large'`        | âœ…   | ç»„ä»¶å°ºå¯¸ï¼ˆå°å‹1è¡Œï¼Œå¤§å‹2è¡Œï¼‰    |
| `expandedEntry` | string                        | âœ…   | HTML æ–‡ä»¶è·¯å¾„ï¼ˆç›¸å¯¹äºç»„ä»¶ç›®å½•ï¼‰ |

### å±•å¼€ç»„ä»¶å°ºå¯¸è§„èŒƒ

| å°ºå¯¸    | é«˜åº¦  | å®½åº¦  | è¯´æ˜                  |
| ------- | ----- | ----- | --------------------- |
| `small` | 160px | 220px | å æ®1è¡Œï¼Œé€‚åˆç®€å•å†…å®¹ |
| `large` | 332px | 220px | å æ®2è¡Œï¼Œé€‚åˆå¤æ‚å†…å®¹ |

**æ³¨æ„ï¼š**

- å®½åº¦ 220px æ˜¯ç»„ä»¶å¡ç‰‡çš„æœ€å°å®½åº¦ï¼Œä¼šæ ¹æ®çª—å£å¤§å°è‡ªåŠ¨è°ƒæ•´
- é«˜åº¦æ˜¯å›ºå®šçš„ï¼Œsmall = 160pxï¼Œlarge = 332pxï¼ˆ160 \* 2 + 12px gapï¼‰
- ç»„ä»¶ä¼šåœ¨ç½‘æ ¼ä¸­è‡ªåŠ¨æ’åˆ—ï¼Œæ”¯æŒæ‹–æ‹½è°ƒæ•´ä½ç½®

---

### ç¤ºä¾‹ 1ï¼šå°å‹å±•å¼€ç»„ä»¶ï¼ˆæ—¥å†ï¼‰

#### manifest.json

```json
{
  "id": "custom-calendar",
  "name": "æ—¥å†",
  "version": "1.0.0",
  "description": "æ˜¾ç¤ºå½“æœˆæ—¥å†ï¼Œé«˜äº®ä»Šæ—¥",
  "author": "Your Name",
  "type": "advanced",
  "category": "expanded",
  "expandedSize": "small",
  "expandedEntry": "widget.html"
}
```

#### widget.html

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      html,
      body {
        width: 100%;
        height: 100%;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        overflow: hidden;
      }

      .calendar-container {
        width: 100%;
        height: 100%;
        padding: 12px;
        display: flex;
        flex-direction: column;
      }

      .calendar-header {
        text-align: center;
        margin-bottom: 8px;
      }

      .calendar-header h3 {
        font-size: 14px;
        font-weight: 600;
        color: rgba(0, 0, 0, 0.85);
      }

      .calendar-grid {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        gap: 4px;
        flex: 1;
      }

      .calendar-day {
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 12px;
        color: rgba(0, 0, 0, 0.65);
        border-radius: 4px;
        cursor: pointer;
        transition: all 0.2s;
      }

      .calendar-day.today {
        background: #1677ff;
        color: white;
        font-weight: 600;
      }

      .calendar-day:hover:not(.today) {
        background: rgba(0, 0, 0, 0.05);
      }
    </style>
  </head>
  <body>
    <div class="calendar-container">
      <div class="calendar-header">
        <h3 id="month-year">2025å¹´11æœˆ</h3>
      </div>
      <div class="calendar-grid" id="calendar"></div>
    </div>

    <script>
      function renderCalendar() {
        const now = new Date()
        const year = now.getFullYear()
        const month = now.getMonth()
        const today = now.getDate()

        // æ›´æ–°æ ‡é¢˜
        document.getElementById('month-year').textContent = `${year}å¹´${month + 1}æœˆ`

        // è·å–æœ¬æœˆå¤©æ•°
        const daysInMonth = new Date(year, month + 1, 0).getDate()
        const firstDay = new Date(year, month, 1).getDay()

        const calendar = document.getElementById('calendar')
        calendar.innerHTML = ''

        // æ·»åŠ æ˜ŸæœŸæ ‡é¢˜
        const weekdays = ['æ—¥', 'ä¸€', 'äºŒ', 'ä¸‰', 'å››', 'äº”', 'å…­']
        weekdays.forEach((day) => {
          const el = document.createElement('div')
          el.className = 'calendar-day'
          el.style.fontWeight = '600'
          el.style.fontSize = '11px'
          el.textContent = day
          calendar.appendChild(el)
        })

        // æ·»åŠ ç©ºç™½å ä½
        for (let i = 0; i < firstDay; i++) {
          calendar.appendChild(document.createElement('div'))
        }

        // æ·»åŠ æ—¥æœŸ
        for (let day = 1; day <= daysInMonth; day++) {
          const el = document.createElement('div')
          el.className = 'calendar-day'
          if (day === today) {
            el.classList.add('today')
          }
          el.textContent = day
          calendar.appendChild(el)
        }
      }

      // åˆå§‹åŒ–
      renderCalendar()

      // æ¯å¤©æ›´æ–°ä¸€æ¬¡
      setInterval(renderCalendar, 86400000)
    </script>
  </body>
</html>
```

---

### ç¤ºä¾‹ 2ï¼šå¤§å‹å±•å¼€ç»„ä»¶ï¼ˆå¾…åŠäº‹é¡¹ï¼‰

#### manifest.json

```json
{
  "id": "custom-todo",
  "name": "å¾…åŠäº‹é¡¹",
  "version": "1.0.0",
  "description": "ç®¡ç†æ¯æ—¥å¾…åŠäº‹é¡¹",
  "author": "Your Name",
  "type": "advanced",
  "category": "expanded",
  "expandedSize": "large",
  "expandedEntry": "widget.html"
}
```

#### widget.html

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      html,
      body {
        width: 100%;
        height: 100%;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        overflow: hidden;
      }

      .todo-container {
        width: 100%;
        height: 100%;
        padding: 12px 14px;
        display: flex;
        flex-direction: column;
      }

      .todo-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 12px;
        flex-shrink: 0;
      }

      .todo-header h3 {
        font-size: 15px;
        font-weight: 600;
        color: rgba(0, 0, 0, 0.85);
      }

      .todo-stats {
        font-size: 11px;
        color: rgba(0, 0, 0, 0.5);
      }

      .todo-input-wrapper {
        display: flex;
        gap: 8px;
        margin-bottom: 12px;
        flex-shrink: 0;
      }

      .todo-input {
        flex: 1;
        padding: 6px 10px;
        border: 1.5px solid rgba(0, 0, 0, 0.1);
        border-radius: 6px;
        font-size: 13px;
        outline: none;
        transition: border-color 0.2s;
      }

      .todo-input:focus {
        border-color: #1677ff;
      }

      .todo-add-btn {
        width: 32px;
        height: 32px;
        min-width: 32px;
        padding: 0;
        font-size: 18px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: #1677ff;
        color: white;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        transition: all 0.2s;
      }

      .todo-add-btn:hover {
        background: #4096ff;
      }

      .todo-list {
        flex: 1;
        min-height: 0;
        max-height: 100%;
        overflow-y: auto;
        overflow-x: hidden;
        padding-right: 4px;
        position: relative;
      }

      .todo-list::-webkit-scrollbar {
        width: 4px;
      }

      .todo-list::-webkit-scrollbar-track {
        background: rgba(0, 0, 0, 0.05);
        border-radius: 4px;
      }

      .todo-list::-webkit-scrollbar-thumb {
        background: rgba(0, 0, 0, 0.15);
        border-radius: 4px;
      }

      .todo-item {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 6px 10px;
        margin-bottom: 4px;
        background: rgba(0, 0, 0, 0.03);
        border-radius: 6px;
        cursor: pointer;
        transition: all 0.2s;
        animation: slideIn 0.3s ease;
      }

      .todo-item:hover {
        background: rgba(0, 0, 0, 0.05);
      }

      .todo-checkbox {
        width: 16px;
        height: 16px;
        border: 2px solid rgba(0, 0, 0, 0.25);
        border-radius: 4px;
        flex-shrink: 0;
        transition: all 0.2s;
      }

      .todo-checkbox.checked {
        background: #1677ff;
        border-color: #1677ff;
        position: relative;
      }

      .todo-checkbox.checked::after {
        content: 'âœ“';
        position: absolute;
        color: white;
        font-size: 12px;
        top: -2px;
        left: 2px;
      }

      .todo-text {
        flex: 1;
        font-size: 13px;
        color: rgba(0, 0, 0, 0.85);
        word-break: break-word;
      }

      .todo-item.completed .todo-text {
        text-decoration: line-through;
        color: rgba(0, 0, 0, 0.45);
      }

      .todo-delete {
        width: 20px;
        height: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: rgba(0, 0, 0, 0.45);
        font-size: 18px;
        cursor: pointer;
        border-radius: 3px;
        flex-shrink: 0;
        transition: all 0.2s;
      }

      .todo-delete:hover {
        background: rgba(255, 77, 79, 0.1);
        color: #ff4d4f;
      }

      .empty-state {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 100%;
        color: rgba(0, 0, 0, 0.25);
        font-size: 13px;
      }

      @keyframes slideIn {
        from {
          opacity: 0;
          transform: translateY(-10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
    </style>
  </head>
  <body>
    <div class="todo-container">
      <div class="todo-header">
        <h3>ä»Šæ—¥å¾…åŠ</h3>
        <span class="todo-stats" id="stats">0 / 0</span>
      </div>

      <div class="todo-input-wrapper">
        <input
          type="text"
          class="todo-input"
          id="todo-input"
          placeholder="æ·»åŠ æ–°å¾…åŠ..."
          maxlength="100"
        />
        <button class="todo-add-btn" id="add-btn">+</button>
      </div>

      <div class="todo-list" id="todo-list">
        <div class="empty-state" id="empty-state">
          <div style="font-size: 32px; margin-bottom: 8px">ğŸ“</div>
          <div>æš‚æ— å¾…åŠäº‹é¡¹</div>
        </div>
      </div>
    </div>

    <script>
      let todos = []

      // ä» localStorage åŠ è½½æ•°æ®
      function loadTodos() {
        try {
          const saved = localStorage.getItem('todos')
          if (saved) {
            todos = JSON.parse(saved)
          }
        } catch (error) {
          console.error('Failed to load todos:', error)
        }
      }

      // ä¿å­˜åˆ° localStorage
      function saveTodos() {
        try {
          localStorage.setItem('todos', JSON.stringify(todos))
        } catch (error) {
          console.error('Failed to save todos:', error)
        }
      }

      // æ¸²æŸ“å¾…åŠåˆ—è¡¨
      function renderTodos(animate = true) {
        const todoList = document.getElementById('todo-list')
        const emptyState = document.getElementById('empty-state')

        // æ¸…ç©ºåˆ—è¡¨
        const items = todoList.querySelectorAll('.todo-item')
        items.forEach((item) => item.remove())

        if (todos.length === 0) {
          emptyState.style.display = 'flex'
          updateStats()
          return
        }

        emptyState.style.display = 'none'

        // æ’åºï¼šæœªå®Œæˆåœ¨å‰ï¼Œå·²å®Œæˆåœ¨å
        const sortedTodos = [...todos].sort((a, b) => {
          if (a.completed === b.completed) return 0
          return a.completed ? 1 : -1
        })

        sortedTodos.forEach((todo) => {
          const index = todos.findIndex(
            (t) => t.createdAt === todo.createdAt && t.text === todo.text
          )
          const todoItem = document.createElement('div')
          todoItem.className = `todo-item ${todo.completed ? 'completed' : ''}`
          if (!animate) {
            todoItem.style.animation = 'none'
          }

          const checkbox = document.createElement('div')
          checkbox.className = `todo-checkbox ${todo.completed ? 'checked' : ''}`
          checkbox.onclick = (e) => {
            e.stopPropagation()
            toggleTodo(index)
          }

          const text = document.createElement('div')
          text.className = 'todo-text'
          text.textContent = todo.text

          const deleteBtn = document.createElement('div')
          deleteBtn.className = 'todo-delete'
          deleteBtn.textContent = 'Ã—'
          deleteBtn.onclick = (e) => {
            e.stopPropagation()
            deleteTodo(index)
          }

          todoItem.appendChild(checkbox)
          todoItem.appendChild(text)
          todoItem.appendChild(deleteBtn)
          todoList.appendChild(todoItem)
        })

        updateStats()
      }

      // æ›´æ–°ç»Ÿè®¡ä¿¡æ¯
      function updateStats() {
        const completed = todos.filter((t) => t.completed).length
        const total = todos.length
        document.getElementById('stats').textContent = `${completed} / ${total}`
      }

      // æ·»åŠ å¾…åŠ
      function addTodo() {
        const input = document.getElementById('todo-input')
        const text = input.value.trim()

        if (!text) return

        todos.push({
          id: Date.now(),
          text,
          completed: false,
          createdAt: Date.now()
        })

        input.value = ''
        saveTodos()
        renderTodos()
      }

      // åˆ‡æ¢å®ŒæˆçŠ¶æ€
      function toggleTodo(index) {
        todos[index].completed = !todos[index].completed
        saveTodos()
        renderTodos(false) // ä¸æ’­æ”¾åŠ¨ç”»
      }

      // åˆ é™¤å¾…åŠ
      function deleteTodo(index) {
        todos.splice(index, 1)
        saveTodos()
        renderTodos(false) // ä¸æ’­æ”¾åŠ¨ç”»
      }

      // åˆå§‹åŒ–
      loadTodos()
      renderTodos()

      // äº‹ä»¶ç›‘å¬
      document.getElementById('add-btn').addEventListener('click', addTodo)
      document.getElementById('todo-input').addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
          addTodo()
        }
      })
    </script>
  </body>
</html>
```

---

## ğŸ“ è®¾è®¡è§„èŒƒ

### æŠ˜å ç»„ä»¶å°ºå¯¸å»ºè®®

- **çª—å£å¤§å°**ï¼š400Ã—30px
- **ç»„ä»¶å†…å®¹é«˜åº¦**ï¼šä¸è¶…è¿‡ 30px
- **å­—ä½“å¤§å°**ï¼š12-16px ä¹‹é—´
- **å†…è¾¹è·**ï¼š4-8px

### å±•å¼€ç»„ä»¶å°ºå¯¸å»ºè®®

#### Small ç»„ä»¶ï¼ˆ1è¡Œï¼‰

- **å›ºå®šé«˜åº¦**ï¼š160px
- **æœ€å°å®½åº¦**ï¼š220pxï¼ˆä¼šæ ¹æ®çª—å£è‡ªåŠ¨è°ƒæ•´ï¼‰
- **å†…è¾¹è·**ï¼š12-16px
- **å­—ä½“å¤§å°**ï¼š12-15px
- **æ ‡é¢˜å¤§å°**ï¼š14-16px
- **é€‚ç”¨åœºæ™¯**ï¼šæ—¥å†ã€å¤©æ°”ã€ç®€å•å›¾è¡¨

#### Large ç»„ä»¶ï¼ˆ2è¡Œï¼‰

- **å›ºå®šé«˜åº¦**ï¼š332pxï¼ˆ160Ã—2 + 12px gapï¼‰
- **æœ€å°å®½åº¦**ï¼š220pxï¼ˆä¼šæ ¹æ®çª—å£è‡ªåŠ¨è°ƒæ•´ï¼‰
- **å†…è¾¹è·**ï¼š12-16px
- **å­—ä½“å¤§å°**ï¼š12-15px
- **æ ‡é¢˜å¤§å°**ï¼š14-16px
- **é€‚ç”¨åœºæ™¯**ï¼šå¾…åŠåˆ—è¡¨ã€é‚®ä»¶é¢„è§ˆã€è¯¦ç»†ä¿¡æ¯é¢æ¿

### å±•å¼€ç»„ä»¶å¸ƒå±€å»ºè®®

#### Flexbox å¸ƒå±€æœ€ä½³å®è·µ

```css
/* å®¹å™¨ */
.container {
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  padding: 12px;
}

/* å›ºå®šå¤´éƒ¨ */
.header {
  flex-shrink: 0;
  margin-bottom: 12px;
}

/* å¯æ»šåŠ¨å†…å®¹åŒº */
.content {
  flex: 1;
  min-height: 0; /* å…³é”®ï¼šå…è®¸ flex é¡¹ç›®ç¼©å° */
  max-height: 100%; /* é™åˆ¶æœ€å¤§é«˜åº¦ */
  overflow-y: auto; /* å¯ç”¨æ»šåŠ¨ */
  overflow-x: hidden;
}
```

#### æ»šåŠ¨æ¡æ ·å¼

```css
.scrollable::-webkit-scrollbar {
  width: 4px;
}

.scrollable::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.05);
  border-radius: 4px;
}

.scrollable::-webkit-scrollbar-thumb {
  background: rgba(0, 0, 0, 0.15);
  border-radius: 4px;
}

.scrollable::-webkit-scrollbar-thumb:hover {
  background: rgba(0, 0, 0, 0.25);
}
```

### é¢œè‰²å»ºè®®

- **ä¸»æ–‡æœ¬**ï¼š`rgba(0, 0, 0, 0.85)` æˆ– `#374151`
- **æ¬¡è¦æ–‡æœ¬**ï¼š`rgba(0, 0, 0, 0.65)` æˆ– `#6b7280`
- **ç¦ç”¨æ–‡æœ¬**ï¼š`rgba(0, 0, 0, 0.45)` æˆ– `#9ca3af`
- **è¾¹æ¡†**ï¼š`rgba(0, 0, 0, 0.1)` æˆ– `#e5e7eb`
- **èƒŒæ™¯ï¼ˆhoverï¼‰**ï¼š`rgba(0, 0, 0, 0.05)` æˆ– `#f3f4f6`
- **å¼ºè°ƒè‰²ï¼ˆä¸»è¦ï¼‰**ï¼š`#1677ff`ï¼ˆè“è‰²ï¼‰
- **å¼ºè°ƒè‰²ï¼ˆæˆåŠŸï¼‰**ï¼š`#10b981`ï¼ˆç»¿è‰²ï¼‰
- **å¼ºè°ƒè‰²ï¼ˆå±é™©ï¼‰**ï¼š`#ff4d4f`ï¼ˆçº¢è‰²ï¼‰
- **å¼ºè°ƒè‰²ï¼ˆè­¦å‘Šï¼‰**ï¼š`#faad14`ï¼ˆæ©™è‰²ï¼‰

### åŠ¨ç”»å»ºè®®

#### å…¥åœºåŠ¨ç”»

```css
@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.item {
  animation: slideIn 0.3s ease;
}
```

#### æ·¡å‡ºåŠ¨ç”»

```css
@keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

.removing {
  animation: fadeOut 0.2s ease;
}
```

#### è¿‡æ¸¡æ•ˆæœ

```css
.interactive-element {
  transition: all 0.2s ease;
}

/* é¿å…è¿‡é•¿çš„è¿‡æ¸¡æ—¶é—´ */
.slow-transition {
  transition: all 0.3s ease; /* æœ€å¤§ 0.3s */
}
```

### æ€§èƒ½å»ºè®®

#### æŠ˜å ç»„ä»¶

- âš ï¸ `updateInterval` æœ€å°å€¼ï¼š100ms
- âš ï¸ é¿å…é¢‘ç¹çš„ DOM æ“ä½œ
- âš ï¸ ä¸è¦åœ¨ç»„ä»¶ä¸­æ‰§è¡Œè€—æ—¶æ“ä½œ
- âœ… ä½¿ç”¨ CSS åŠ¨ç”»è€Œé JS åŠ¨ç”»

#### å±•å¼€ç»„ä»¶

- âš ï¸ é¿å…å¤æ‚çš„ DOM ç»“æ„ï¼ˆå»ºè®®ä¸è¶…è¿‡ 100 ä¸ªèŠ‚ç‚¹ï¼‰
- âš ï¸ ä½¿ç”¨ `requestAnimationFrame` è¿›è¡ŒåŠ¨ç”»
- âš ï¸ å¤§é‡æ•°æ®æ—¶ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨
- âš ï¸ å›¾ç‰‡ä½¿ç”¨åˆé€‚çš„å°ºå¯¸ï¼Œé¿å…è¿‡å¤§
- âœ… ä½¿ç”¨ `transform` å’Œ `opacity` è¿›è¡ŒåŠ¨ç”»ï¼ˆGPU åŠ é€Ÿï¼‰
- âœ… åˆç†ä½¿ç”¨ `will-change` å±æ€§
- âœ… ä½¿ç”¨ `localStorage` æŒä¹…åŒ–æ•°æ®
- âœ… é˜²æŠ–å’ŒèŠ‚æµé¢‘ç¹è§¦å‘çš„äº‹ä»¶

### æ•°æ®æŒä¹…åŒ–

å±•å¼€ç»„ä»¶å¯ä»¥ä½¿ç”¨ `localStorage` ä¿å­˜æ•°æ®ï¼š

```javascript
// ä¿å­˜æ•°æ®
function saveData() {
  try {
    localStorage.setItem('my-widget-data', JSON.stringify(data))
  } catch (error) {
    console.error('Failed to save data:', error)
  }
}

// åŠ è½½æ•°æ®
function loadData() {
  try {
    const saved = localStorage.getItem('my-widget-data')
    if (saved) {
      data = JSON.parse(saved)
    }
  } catch (error) {
    console.error('Failed to load data:', error)
  }
}
```

**æ³¨æ„ï¼š**

- æ¯ä¸ªç»„ä»¶çš„ localStorage æ˜¯ç‹¬ç«‹çš„ï¼ˆiframe éš”ç¦»ï¼‰
- æ•°æ®å¤§å°é™åˆ¶é€šå¸¸ä¸º 5-10MB
- ä½¿ç”¨ try-catch å¤„ç†å¯èƒ½çš„é”™è¯¯

---

## ğŸ”Œ æ‰©å±•å†…ç½®ç»„ä»¶æ•°æ®æº

### ä¸ºè‡ªå®šä¹‰ Simple ç»„ä»¶æä¾›æ•°æ®

åœ¨ `src/main/modules/dynamicIslandWidgetManager.ts` ä¸­æ‰©å±• `getWidgetData` æ–¹æ³•ï¼š

```typescript
getWidgetData(widgetId: string): any {
  const widget = this.widgets.get(widgetId)
  if (!widget || widget.manifest.type !== 'simple') {
    return null
  }

  // æ·»åŠ ä½ çš„è‡ªå®šä¹‰ç»„ä»¶æ•°æ®é€»è¾‘
  switch (widgetId) {
    case 'built-in-clock':
      return this.getClockData(manifest.config?.format || 'HH:mm:ss')

    case 'built-in-date':
      return this.getDateData(manifest.config?.format || 'YYYY-MM-DD')

    // ğŸ‘‡ æ·»åŠ ä½ çš„ç»„ä»¶
    case 'my-custom-widget':
      return {
        myData: 'Hello from backend!'
      }

    default:
      return null
  }
}
```

---

## ğŸ› è°ƒè¯•æŠ€å·§

### 1. æŸ¥çœ‹æ—¥å¿—

æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰æŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—ï¼š

```
[WidgetManager] Loaded widget: æ—¶é’Ÿ (built-in-clock)
[DynamicIsland] Failed to render widget: ...
```

### 2. æ£€æŸ¥ç»„ä»¶åŠ è½½

åœ¨è®¾ç½®é¡µé¢çš„"å¯ç”¨ç»„ä»¶"åˆ—è¡¨ä¸­ç¡®è®¤ç»„ä»¶æ˜¯å¦è¢«æ­£ç¡®åŠ è½½ã€‚

### 3. manifest.json éªŒè¯

ä½¿ç”¨ JSON æ ¡éªŒå·¥å…·ç¡®ä¿é…ç½®æ–‡ä»¶æ ¼å¼æ­£ç¡®ã€‚

### 4. å±•å¼€ç»„ä»¶è°ƒè¯•

å±•å¼€ç»„ä»¶åœ¨ iframe ä¸­æ¸²æŸ“ï¼Œè°ƒè¯•ç¨æœ‰ä¸åŒï¼š

#### æ‰“å¼€ iframe æ§åˆ¶å°

1. æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰
2. ç‚¹å‡»å±•å¼€çµåŠ¨å²›
3. åœ¨ Elements/å…ƒç´  æ ‡ç­¾é¡µæ‰¾åˆ° `<iframe>` å…ƒç´ 
4. å³é”® â†’ åœ¨ iframe ä¸­æŸ¥çœ‹ â†’ é€‰æ‹©ä½ çš„ç»„ä»¶
5. ç°åœ¨æ§åˆ¶å°ä¼šæ˜¾ç¤ºç»„ä»¶å†…çš„æ—¥å¿—

#### æŸ¥çœ‹ç»„ä»¶ HTML

```javascript
// åœ¨ç»„ä»¶çš„ script ä¸­æ·»åŠ æ—¥å¿—
console.log('Component initialized')
console.log('Current data:', todos)
```

#### æ£€æŸ¥ localStorage

```javascript
// åœ¨ç»„ä»¶çš„ script ä¸­
console.log('Saved data:', localStorage.getItem('my-widget-data'))

// æ¸…ç©ºæ•°æ®ï¼ˆç”¨äºæµ‹è¯•ï¼‰
localStorage.clear()
```

#### è°ƒè¯•æ ·å¼

```javascript
// ä¸´æ—¶ä¿®æ”¹æ ·å¼
document.querySelector('.my-element').style.border = '2px solid red'
```

### 5. å¸¸è§é”™è¯¯

#### æŠ˜å ç»„ä»¶

| é”™è¯¯         | åŸå›                         | è§£å†³æ–¹æ¡ˆ           |
| ------------ | --------------------------- | ------------------ |
| ç»„ä»¶ä¸æ˜¾ç¤º   | manifest.json æ ¼å¼é”™è¯¯      | æ£€æŸ¥ JSON è¯­æ³•     |
| æ ·å¼ä¸ç”Ÿæ•ˆ   | CSS å±æ€§åé”™è¯¯              | ä½¿ç”¨é©¼å³°å‘½åæ³•     |
| æ•°æ®ä¸æ›´æ–°   | updateInterval å¤ªå¤§         | å‡å°æ›´æ–°é—´éš”       |
| ä½ç½®é…ç½®æ— æ•ˆ | category æœªè®¾ç½®ä¸º collapsed | æ£€æŸ¥ manifest.json |

#### å±•å¼€ç»„ä»¶

| é”™è¯¯                | åŸå›                        | è§£å†³æ–¹æ¡ˆ                      |
| ------------------- | -------------------------- | ----------------------------- |
| ç»„ä»¶ä¸æ˜¾ç¤º          | category æœªè®¾ç½®ä¸º expanded | æ£€æŸ¥ manifest.json            |
| æ ·å¼æ··ä¹±            | ç¼ºå°‘ `<style>` æ ‡ç­¾        | åœ¨ HTML ä¸­æ·»åŠ å®Œæ•´æ ·å¼        |
| æ— æ³•æ»šåŠ¨            | ç¼ºå°‘ `min-height: 0`       | å‚è€ƒå¸ƒå±€æœ€ä½³å®è·µ              |
| localStorage ä¸å·¥ä½œ | æœªåœ¨ try-catch ä¸­å¤„ç†      | æ·»åŠ é”™è¯¯å¤„ç†                  |
| åŠ¨ç”»å¡é¡¿            | DOM æ“ä½œè¿‡äºé¢‘ç¹           | ä½¿ç”¨ CSS åŠ¨ç”»ï¼Œå‡å°‘ JS æ“ä½œ   |
| å°ºå¯¸ä¸å¯¹            | expandedSize é…ç½®é”™è¯¯      | æ£€æŸ¥æ˜¯å¦ä¸º 'small' æˆ– 'large' |
| å¸ƒå±€æº¢å‡º            | æœªè®¾ç½® `overflow: hidden`  | åœ¨ html/body ä¸Šæ·»åŠ  overflow  |
| ç‚¹å‡»äº‹ä»¶ä¸å“åº”      | pointer-events è¢«ç¦ç”¨      | æ£€æŸ¥ CSS pointer-events å±æ€§  |

---

## ğŸ“¦ ç»„ä»¶åˆ†å‘

### æ‰“åŒ…ç»„ä»¶

å°†æ•´ä¸ªç»„ä»¶æ–‡ä»¶å¤¹æ‰“åŒ…ä¸º ZIPï¼š

```bash
zip -r my-widget.zip my-widget/
```

### å®‰è£…ç»„ä»¶

1. å°†ç»„ä»¶æ–‡ä»¶å¤¹å¤åˆ¶åˆ° `dynamic-island-widgets/`
2. é‡å¯åº”ç”¨
3. åœ¨è®¾ç½®ä¸­é€‰æ‹©ç»„ä»¶

---

## ğŸŒŸ æœ€ä½³å®è·µ

### âœ… é€šç”¨æ¨èåšæ³•

- âœ… ä½¿ç”¨è¯­ä¹‰åŒ–çš„ç»„ä»¶ IDï¼ˆå¦‚ `author-widgetname`ï¼‰
- âœ… æä¾›æ¸…æ™°çš„ç»„ä»¶æè¿°å’Œç‰ˆæœ¬å·
- âœ… éµå¾ªè®¾è®¡è§„èŒƒï¼ˆå°ºå¯¸ã€é¢œè‰²ã€å­—ä½“ï¼‰
- âœ… å……åˆ†æµ‹è¯•ç»„ä»¶ï¼ˆä¸åŒæ•°æ®é‡ã€è¾¹ç•Œæƒ…å†µï¼‰
- âœ… ä¸ºæ‰€æœ‰å¼‚æ­¥æ“ä½œæ·»åŠ é”™è¯¯å¤„ç†
- âœ… ä½¿ç”¨ `try-catch` åŒ…è£¹å¯èƒ½å‡ºé”™çš„ä»£ç 
- âœ… æä¾›æœ‰æ„ä¹‰çš„ç©ºçŠ¶æ€æç¤º

### âœ… æŠ˜å ç»„ä»¶æœ€ä½³å®è·µ

- âœ… ä¿æŒæ–‡æœ¬ç®€æ´ï¼ˆä¸è¶…è¿‡ 30 ä¸ªå­—ç¬¦ï¼‰
- âœ… ä½¿ç”¨ç­‰å®½å­—ä½“æ˜¾ç¤ºæ•°å­—ï¼ˆå¦‚ç³»ç»Ÿç›‘æ§ï¼‰
- âœ… åˆç†è®¾ç½®æ›´æ–°é—´éš”ï¼ˆä¸è¦ä½äº 100msï¼‰
- âœ… ä½¿ç”¨é«˜å¯¹æ¯”åº¦é¢œè‰²ç¡®ä¿å¯è¯»æ€§

### âœ… å±•å¼€ç»„ä»¶æœ€ä½³å®è·µ

#### å¸ƒå±€è®¾è®¡

- âœ… ä½¿ç”¨ Flexbox å¸ƒå±€ï¼Œå¤´éƒ¨ `flex-shrink: 0`
- âœ… å¯æ»šåŠ¨åŒºåŸŸå¿…é¡»è®¾ç½® `min-height: 0`
- âœ… ä¸ºé•¿åˆ—è¡¨æ·»åŠ æ»šåŠ¨æ¡æ ·å¼
- âœ… ä½¿ç”¨ 12-16px çš„å†…è¾¹è·
- âœ… æ ‡é¢˜å’Œå†…å®¹åŒºåŸŸæ˜ç¡®åˆ†éš”

#### æ•°æ®ç®¡ç†

- âœ… ä½¿ç”¨ `localStorage` æŒä¹…åŒ–ç”¨æˆ·æ•°æ®
- âœ… æ•°æ®å˜æ›´æ—¶ç«‹å³ä¿å­˜
- âœ… åŠ è½½æ•°æ®æ—¶æ·»åŠ é»˜è®¤å€¼å’Œé”™è¯¯å¤„ç†
- âœ… å¯¹äºåˆ—è¡¨æ•°æ®ï¼Œä½¿ç”¨æ•°ç»„çš„ä¸å¯å˜æ“ä½œ

```javascript
// âœ… å¥½çš„åšæ³•
const newTodos = [...todos, newItem]
setTodos(newTodos)
saveTodos(newTodos)

// âŒ ä¸æ¨è
todos.push(newItem)
```

#### æ€§èƒ½ä¼˜åŒ–

- âœ… é¿å…åœ¨ `renderTodos()` ç­‰é¢‘ç¹è°ƒç”¨çš„å‡½æ•°ä¸­æ‰§è¡Œé‡è®¡ç®—
- âœ… ä½¿ç”¨ CSS åŠ¨ç”»è€Œé JavaScript åŠ¨ç”»
- âœ… å¯¹é¢‘ç¹è§¦å‘çš„äº‹ä»¶ï¼ˆå¦‚ inputã€scrollï¼‰è¿›è¡Œé˜²æŠ–
- âœ… ä»…åœ¨å¿…è¦æ—¶é‡æ–°æ¸²æŸ“ï¼ˆæ·»åŠ  `animate` å‚æ•°æ§åˆ¶ï¼‰

```javascript
// âœ… å¥½çš„åšæ³•ï¼šæ·»åŠ åŠ¨ç”»æ§åˆ¶å‚æ•°
function renderTodos(animate = true) {
  todos.forEach((todo) => {
    const el = createElement(todo)
    if (!animate) {
      el.style.animation = 'none'  // åˆ‡æ¢/åˆ é™¤æ—¶ä¸æ’­æ”¾åŠ¨ç”»
    }
    list.appendChild(el)
  })
}

// æ·»åŠ æ—¶æ’­æ”¾åŠ¨ç”»
addTodo() {
  todos.push(newTodo)
  renderTodos(true)
}

// åˆ‡æ¢/åˆ é™¤æ—¶ä¸æ’­æ”¾åŠ¨ç”»ï¼ˆé¿å…æŠ–åŠ¨ï¼‰
toggleTodo(index) {
  todos[index].completed = !todos[index].completed
  renderTodos(false)
}
```

#### äº¤äº’è®¾è®¡

- âœ… ä¸ºå·²å®Œæˆçš„ä»»åŠ¡æ·»åŠ è§†è§‰åé¦ˆï¼ˆå¦‚åˆ é™¤çº¿ã€é™ä½é€æ˜åº¦ï¼‰
- âœ… ä½¿ç”¨æ’åºå°†å·²å®Œæˆé¡¹ç§»åˆ°åˆ—è¡¨åº•éƒ¨
- âœ… æ·»åŠ  hover çŠ¶æ€æå‡äº¤äº’åé¦ˆ
- âœ… ç‚¹å‡»äº‹ä»¶ä½¿ç”¨ `e.stopPropagation()` é˜²æ­¢å†’æ³¡
- âœ… ä¸ºäº¤äº’å…ƒç´ æ·»åŠ  `pointer-events: auto` å’Œ `z-index`

```css
/* âœ… å¥½çš„åšæ³• */
.todo-checkbox {
  pointer-events: auto; /* ç¡®ä¿å¯ç‚¹å‡» */
  position: relative;
  z-index: 10; /* æå‡å±‚çº§ */
  cursor: pointer;
}
```

#### ç©ºçŠ¶æ€è®¾è®¡

- âœ… æä¾›å‹å¥½çš„ç©ºçŠ¶æ€æç¤º
- âœ… ä½¿ç”¨å›¾æ ‡æˆ– emoji å¢å¼ºè§†è§‰æ•ˆæœ
- âœ… ç»™å‡ºæ˜ç¡®çš„æ“ä½œæŒ‡å¼•

```html
<!-- âœ… å¥½çš„ç©ºçŠ¶æ€ -->
<div class="empty-state">
  <div style="font-size: 32px; margin-bottom: 8px">ğŸ“</div>
  <div>æš‚æ— å¾…åŠäº‹é¡¹</div>
  <div style="font-size: 12px; color: rgba(0, 0, 0, 0.45); margin-top: 4px">
    æ·»åŠ ç¬¬ä¸€ä¸ªå¾…åŠå¼€å§‹ä½¿ç”¨
  </div>
</div>
```

### âŒ é¿å…åšæ³•

#### é€šç”¨

- âŒ ä¸è¦ä½¿ç”¨è¿‡é•¿çš„æ–‡æœ¬ï¼ˆè¶…å‡ºçª—å£å®½åº¦ï¼‰
- âŒ ä¸è¦æ‰§è¡ŒåŒæ­¥é˜»å¡æ“ä½œ
- âŒ ä¸è¦ç›´æ¥æ“ä½œ DOM ä¹‹å¤–çš„çª—å£å…ƒç´ 
- âŒ ä¸è¦åœ¨ç»„ä»¶ä¸­å‘èµ·æœªæˆæƒçš„ç½‘ç»œè¯·æ±‚
- âŒ ä¸è¦åœ¨å…¨å±€ä½œç”¨åŸŸæ±¡æŸ“å˜é‡
- âŒ ä¸è¦å¿½ç•¥é”™è¯¯å¤„ç†

#### å±•å¼€ç»„ä»¶

- âŒ ä¸è¦ä½¿ç”¨ `innerHTML = ''` æ¸…ç©ºåŒ…å«ç‰¹æ®Šå…ƒç´ çš„å®¹å™¨

```javascript
// âŒ é”™è¯¯åšæ³•
todoList.innerHTML = '' // ä¼šæ¸…ç©ºåŒ…æ‹¬ empty-state åœ¨å†…çš„æ‰€æœ‰å…ƒç´ 

// âœ… æ­£ç¡®åšæ³•
const items = todoList.querySelectorAll('.todo-item')
items.forEach((item) => item.remove()) // åªåˆ é™¤ todo-item
```

- âŒ ä¸è¦åœ¨åˆ‡æ¢/åˆ é™¤æ—¶é‡æ–°æ’­æ”¾æ·»åŠ åŠ¨ç”»ï¼ˆä¼šå¯¼è‡´æŠ–åŠ¨ï¼‰
- âŒ ä¸è¦å¿˜è®°åœ¨ Flexbox ä¸­è®¾ç½® `min-height: 0`
- âŒ ä¸è¦åœ¨ localStorage æ“ä½œä¸­çœç•¥ try-catch
- âŒ ä¸è¦é¢‘ç¹è°ƒç”¨ `renderTodos()`ï¼ˆæ¯æ¬¡ç‚¹å‡»å¤é€‰æ¡†ï¼‰

```javascript
// âŒ é”™è¯¯åšæ³•ï¼šæ¯æ¬¡éƒ½é‡æ–°æ¸²æŸ“æ•´ä¸ªåˆ—è¡¨
function toggleTodo(index) {
  todos[index].completed = !todos[index].completed
  renderTodos() // å¯¼è‡´æ‰€æœ‰é¡¹ç›®é‡æ–°åˆ›å»ºï¼Œäº§ç”ŸæŠ–åŠ¨
}

// âœ… æ­£ç¡®åšæ³•ï¼šç¦ç”¨åŠ¨ç”»é‡æ–°æ¸²æŸ“
function toggleTodo(index) {
  todos[index].completed = !todos[index].completed
  renderTodos(false) // ä¸æ’­æ”¾åŠ¨ç”»ï¼Œé¿å…æŠ–åŠ¨
}
```

### ğŸ“‹ ç»„ä»¶å¼€å‘æ£€æŸ¥æ¸…å•

#### Manifest é…ç½®

- [ ] `id` å…¨å±€å”¯ä¸€
- [ ] `name` ç®€æ´æ˜äº†
- [ ] `version` éµå¾ª semver
- [ ] `description` æè¿°æ¸…æ™°
- [ ] `author` å¡«å†™å®Œæ•´
- [ ] `type` è®¾ç½®æ­£ç¡®ï¼ˆsimple/advancedï¼‰
- [ ] `category` è®¾ç½®æ­£ç¡®ï¼ˆcollapsed/expandedï¼‰
- [ ] `expandedSize` è®¾ç½®æ­£ç¡®ï¼ˆsmall/largeï¼Œå±•å¼€ç»„ä»¶ï¼‰

#### HTML ç»“æ„ï¼ˆå±•å¼€ç»„ä»¶ï¼‰

- [ ] å®Œæ•´çš„ `<!DOCTYPE html>` å£°æ˜
- [ ] `<meta charset="UTF-8" />` æ ‡ç­¾
- [ ] `html, body { width: 100%; height: 100%; overflow: hidden; }`
- [ ] å®¹å™¨ä½¿ç”¨ Flexbox å¸ƒå±€
- [ ] å›ºå®šå…ƒç´ è®¾ç½® `flex-shrink: 0`
- [ ] å¯æ»šåŠ¨å…ƒç´ è®¾ç½® `min-height: 0` å’Œ `overflow-y: auto`

#### æ ·å¼ï¼ˆå±•å¼€ç»„ä»¶ï¼‰

- [ ] æ‰€æœ‰æ ·å¼åŒ…å«åœ¨ `<style>` æ ‡ç­¾ä¸­
- [ ] ä½¿ç”¨æ¨èçš„é¢œè‰²æ–¹æ¡ˆ
- [ ] æ·»åŠ æ»šåŠ¨æ¡è‡ªå®šä¹‰æ ·å¼
- [ ] è¿‡æ¸¡åŠ¨ç”»ä¸è¶…è¿‡ 0.3s
- [ ] ä½¿ç”¨ `rgba()` è€Œéå›ºå®šé¢œè‰²ï¼ˆæ”¯æŒæ·±è‰²æ¨¡å¼æ‰©å±•ï¼‰

#### JavaScriptï¼ˆå±•å¼€ç»„ä»¶ï¼‰

- [ ] æ‰€æœ‰ localStorage æ“ä½œåŒ…è£¹åœ¨ try-catch ä¸­
- [ ] æä¾›æ•°æ®åŠ è½½å’Œä¿å­˜å‡½æ•°
- [ ] å®ç°ç©ºçŠ¶æ€æ˜¾ç¤ºé€»è¾‘
- [ ] äº‹ä»¶ç›‘å¬æ·»åŠ  `stopPropagation()`ï¼ˆå¿…è¦æ—¶ï¼‰
- [ ] åŠ¨ç”»æ§åˆ¶å‚æ•°ï¼ˆ`animate`ï¼‰
- [ ] æ’åºé€»è¾‘ï¼ˆå·²å®Œæˆé¡¹åœ¨åï¼‰

#### æµ‹è¯•

- [ ] ç©ºæ•°æ®çŠ¶æ€æ­£å¸¸æ˜¾ç¤º
- [ ] æ·»åŠ æ•°æ®åŠŸèƒ½æ­£å¸¸
- [ ] ç¼–è¾‘æ•°æ®åŠŸèƒ½æ­£å¸¸
- [ ] åˆ é™¤æ•°æ®åŠŸèƒ½æ­£å¸¸
- [ ] æ•°æ®æŒä¹…åŒ–æ­£å¸¸
- [ ] æ»šåŠ¨åŠŸèƒ½æ­£å¸¸ï¼ˆå¤§é‡æ•°æ®æ—¶ï¼‰
- [ ] åŠ¨ç”»æµç•…æ— æŠ–åŠ¨
- [ ] æ ·å¼åœ¨ä¸åŒçª—å£å¤§å°ä¸‹æ­£å¸¸
- [ ] æ²¡æœ‰æ§åˆ¶å°é”™è¯¯

---

## ğŸ”— ç›¸å…³èµ„æº

- **é¡¹ç›®ä»“åº“**ï¼š[GitHub](https://github.com/your-repo)
- **é—®é¢˜åé¦ˆ**ï¼š[Issues](https://github.com/your-repo/issues)
- **ç¤¾åŒºè®¨è®º**ï¼š[Discussions](https://github.com/your-repo/discussions)

---

## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.0.0 (2025-11-01)

- âœ¨ åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- âœ¨ æ”¯æŒ Simple å’Œ Advanced ä¸¤ç§ç»„ä»¶ç±»å‹
- âœ¨ å†…ç½®æ—¶é’Ÿå’Œæ—¥æœŸç»„ä»¶
- âœ¨ æ”¯æŒå·¦ã€ä¸­ã€å³ä¸‰ä¸ªä½ç½®é…ç½®

---

## ğŸ™ è´¡çŒ®

æ¬¢è¿æäº¤ä½ çš„ç»„ä»¶ï¼

1. Fork é¡¹ç›®
2. åˆ›å»ºç»„ä»¶
3. æäº¤ Pull Request
4. ç­‰å¾…å®¡æ ¸

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚

---

**ç¥ä½ å¼€å‘æ„‰å¿«ï¼ğŸ‰**

å¦‚æœ‰é—®é¢˜ï¼Œè¯·éšæ—¶è”ç³»æˆ‘ä»¬æˆ–æäº¤ Issueã€‚
